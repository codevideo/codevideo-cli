/*! For license information please see commons-7ddb00a5915d97deabb0.js.LICENSE.txt */
(self.webpackChunkcodevideo_ide_react_examples=self.webpackChunkcodevideo_ide_react_examples||[]).push([[351],{3967:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,o(r)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=s(t,r));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},6940:function(e,t,r){"use strict";r.d(t,{Z:function(){return nr}});var n=r(5893),i=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(r,[].concat(i,n))}}}function f(e){return{}.toString.call(e).includes("Object")}function m(e){return"function"==typeof e}var g=p((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),v={changes:function(e,t){return f(t)||g("changeType"),Object.keys(t).some((function(t){return r=e,n=t,!Object.prototype.hasOwnProperty.call(r,n);var r,n}))&&g("changeField"),t},selector:function(e){m(e)||g("selectorType")},handler:function(e){m(e)||f(e)||g("handlerType"),f(e)&&Object.values(e).some((function(e){return!m(e)}))&&g("handlersType")},initial:function(e){var t;e||g("initialIsRequired"),f(e)||g("initialType"),t=e,Object.keys(t).length||g("initialContent")}};function x(e,t){return m(t)?t(e.current):t}function y(e,t){return e.current=h(h({},e.current),t),t}function w(e,t,r){return m(t)?t(e.current):Object.keys(r).forEach((function(r){var n;return null===(n=t[r])||void 0===n?void 0:n.call(t,e.current[r])})),r}var b={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.initial(e),v.handler(t);var r={current:e},n=p(w)(r,t),i=p(y)(r),o=p(v.changes)(e),s=p(x)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return v.selector(e),e(r.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(n,i,o,s)(e)}]}},C=b,E={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};var S=function(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(r,[].concat(i,n))}}};var k=function(e){return{}.toString.call(e).includes("Object")};var F={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},R=S((function(e,t){throw new Error(e[t]||e.default)}))(F),P={config:function(e){return e||R("configIsRequired"),k(e)||R("configType"),e.urls?(console.warn(F.deprecation),{paths:{vs:e.urls.monacoBase}}):e}},j=P,A=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};var N=function e(t,r){return Object.keys(r).forEach((function(n){r[n]instanceof Object&&t[n]&&Object.assign(r[n],e(t[n],r[n]))})),a(a({},t),r)},L={type:"cancelation",msg:"operation is manually canceled"};var I=function(e){var t=!1,r=new Promise((function(r,n){e.then((function(e){return t?n(L):r(e)})),e.catch(n)}));return r.cancel=function(){return t=!0},r},O=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){i=!0,o=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(C.create({config:E,isInitialized:!1,resolve:null,reject:null,monaco:null}),2),M=O[0],D=O[1];function T(e){return document.body.appendChild(e)}function V(e){var t,r,n=M((function(e){return{config:e.config,reject:e.reject}})),i=(t="".concat(n.config.paths.vs,"/loader.js"),r=document.createElement("script"),t&&(r.src=t),r);return i.onload=function(){return e()},i.onerror=n.reject,i}function $(){var e=M((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){H(t),e.resolve(t)}),(function(t){e.reject(t)}))}function H(e){M().monaco||D({monaco:e})}var B=new Promise((function(e,t){return D({resolve:e,reject:t})})),z={config:function(e){var t=j.config(e),r=t.monaco,n=l(t,["monaco"]);D((function(e){return{config:N(e.config,n),monaco:r}}))},init:function(){var e=M((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(D({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),I(B);if(window.monaco&&window.monaco.editor)return H(window.monaco),e.resolve(window.monaco),I(B);A(T,V)($)}return I(B)},__getMonacoInstance:function(){return M((function(e){return e.monaco}))}},W=z,_={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},U={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var q=function({children:e}){return i.createElement("div",{style:U.container},e)},X=q;var G=function({width:e,height:t,isEditorReady:r,loading:n,_ref:o,className:s,wrapperProps:a}){return i.createElement("section",{style:{..._.wrapper,width:e,height:t},...a},!r&&i.createElement(X,null,n),i.createElement("div",{ref:o,style:{..._.fullWidth,...!r&&_.hide},className:s}))},K=(0,i.memo)(G);var Y=function(e){(0,i.useEffect)(e,[])};var Z=function(e,t,r=!0){let n=(0,i.useRef)(!0);(0,i.useEffect)(n.current||!r?()=>{n.current=!1}:e,t)};function J(){}function Q(e,t,r,n){return function(e,t){return e.editor.getModel(ee(e,t))}(e,n)||function(e,t,r,n){return e.editor.createModel(t,r,n?ee(e,n):void 0)}(e,t,r,n)}function ee(e,t){return e.Uri.parse(t)}var te=function({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:o,originalModelPath:s,modifiedModelPath:a,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:d="Loading...",options:h={},height:p="100%",width:f="100%",className:m,wrapperProps:g={},beforeMount:v=J,onMount:x=J}){let[y,w]=(0,i.useState)(!1),[b,C]=(0,i.useState)(!0),E=(0,i.useRef)(null),S=(0,i.useRef)(null),k=(0,i.useRef)(null),F=(0,i.useRef)(x),R=(0,i.useRef)(v),P=(0,i.useRef)(!1);Y((()=>{let e=W.init();return e.then((e=>(S.current=e)&&C(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>E.current?function(){let e=E.current?.getModel();l||e?.original?.dispose(),c||e?.modified?.dispose(),E.current?.dispose()}():e.cancel()})),Z((()=>{if(E.current&&S.current){let t=E.current.getOriginalEditor(),i=Q(S.current,e||"",n||r||"text",s||"");i!==t.getModel()&&t.setModel(i)}}),[s],y),Z((()=>{if(E.current&&S.current){let e=E.current.getModifiedEditor(),n=Q(S.current,t||"",o||r||"text",a||"");n!==e.getModel()&&e.setModel(n)}}),[a],y),Z((()=>{let e=E.current.getModifiedEditor();e.getOption(S.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],y),Z((()=>{E.current?.getModel()?.original.setValue(e||"")}),[e],y),Z((()=>{let{original:e,modified:t}=E.current.getModel();S.current.editor.setModelLanguage(e,n||r||"text"),S.current.editor.setModelLanguage(t,o||r||"text")}),[r,n,o],y),Z((()=>{S.current?.editor.setTheme(u)}),[u],y),Z((()=>{E.current?.updateOptions(h)}),[h],y);let j=(0,i.useCallback)((()=>{if(!S.current)return;R.current(S.current);let i=Q(S.current,e||"",n||r||"text",s||""),l=Q(S.current,t||"",o||r||"text",a||"");E.current?.setModel({original:i,modified:l})}),[r,t,o,e,n,s,a]),A=(0,i.useCallback)((()=>{!P.current&&k.current&&(E.current=S.current.editor.createDiffEditor(k.current,{automaticLayout:!0,...h}),j(),S.current?.editor.setTheme(u),w(!0),P.current=!0)}),[h,u,j]);return(0,i.useEffect)((()=>{y&&F.current(E.current,S.current)}),[y]),(0,i.useEffect)((()=>{!b&&!y&&A()}),[b,y,A]),i.createElement(K,{width:f,height:p,isEditorReady:y,loading:d,_ref:k,className:m,wrapperProps:g})};(0,i.memo)(te);var re=function(e){let t=(0,i.useRef)();return(0,i.useEffect)((()=>{t.current=e}),[e]),t.current},ne=new Map;var ie=function({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:o,path:s,theme:a="light",line:l,loading:c="Loading...",options:u={},overrideServices:d={},saveViewState:h=!0,keepCurrentModel:p=!1,width:f="100%",height:m="100%",className:g,wrapperProps:v={},beforeMount:x=J,onMount:y=J,onChange:w,onValidate:b=J}){let[C,E]=(0,i.useState)(!1),[S,k]=(0,i.useState)(!0),F=(0,i.useRef)(null),R=(0,i.useRef)(null),P=(0,i.useRef)(null),j=(0,i.useRef)(y),A=(0,i.useRef)(x),N=(0,i.useRef)(),L=(0,i.useRef)(n),I=re(s),O=(0,i.useRef)(!1),M=(0,i.useRef)(!1);Y((()=>{let e=W.init();return e.then((e=>(F.current=e)&&k(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>R.current?(N.current?.dispose(),p?h&&ne.set(s,R.current.saveViewState()):R.current.getModel()?.dispose(),void R.current.dispose()):e.cancel()})),Z((()=>{let i=Q(F.current,e||n||"",t||o||"",s||r||"");i!==R.current?.getModel()&&(h&&ne.set(I,R.current?.saveViewState()),R.current?.setModel(i),h&&R.current?.restoreViewState(ne.get(s)))}),[s],C),Z((()=>{R.current?.updateOptions(u)}),[u],C),Z((()=>{!R.current||void 0===n||(R.current.getOption(F.current.editor.EditorOption.readOnly)?R.current.setValue(n):n!==R.current.getValue()&&(M.current=!0,R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),R.current.pushUndoStop(),M.current=!1))}),[n],C),Z((()=>{let e=R.current?.getModel();e&&o&&F.current?.editor.setModelLanguage(e,o)}),[o],C),Z((()=>{void 0!==l&&R.current?.revealLine(l)}),[l],C),Z((()=>{F.current?.editor.setTheme(a)}),[a],C);let D=(0,i.useCallback)((()=>{if(P.current&&F.current&&!O.current){A.current(F.current);let i=s||r,c=Q(F.current,n||e||"",t||o||"",i||"");R.current=F.current?.editor.create(P.current,{model:c,automaticLayout:!0,...u},d),h&&R.current.restoreViewState(ne.get(i)),F.current.editor.setTheme(a),void 0!==l&&R.current.revealLine(l),E(!0),O.current=!0}}),[e,t,r,n,o,s,u,d,h,a,l]);return(0,i.useEffect)((()=>{C&&j.current(R.current,F.current)}),[C]),(0,i.useEffect)((()=>{!S&&!C&&D()}),[S,C,D]),L.current=n,(0,i.useEffect)((()=>{C&&w&&(N.current?.dispose(),N.current=R.current?.onDidChangeModelContent((e=>{M.current||w(R.current.getValue(),e)})))}),[C,w]),(0,i.useEffect)((()=>{if(C){let e=F.current.editor.onDidChangeMarkers((e=>{let t=R.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=F.current.editor.getModelMarkers({resource:t});b?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[C,b]),i.createElement(K,{width:f,height:m,isEditorReady:C,loading:c,_ref:P,className:g,wrapperProps:v})},oe=(0,i.memo)(ie),se=r(5564),ae=r(4144),le=r(2396),ce=r(3967),ue=r(8771),de=r(582),he=r(4080),pe=r(7575),fe=r(4177);const me={size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["classic","surface","soft"],default:"surface"},...de.EG,...pe.I},ge={side:{type:"enum",values:["left","right"]},...de.EG,gap:fe.l.gap,px:he.i.px,pl:he.i.pl,pr:he.i.pr};var ve=r(3928),xe=r(5638);const ye=i.forwardRef(((e,t)=>{const r=i.useRef(null),{children:n,className:o,color:s,radius:a,style:l,...c}=(0,ve.y)(e,me,xe.E);return i.createElement("div",{"data-accent-color":s,"data-radius":a,style:l,className:ce("rt-TextFieldRoot",o),onPointerDown:e=>{const t=e.target;if(t.closest("input, button, a"))return;const n=r.current;if(!n)return;const i=t.closest("\n            .rt-TextFieldSlot[data-side='right'],\n            .rt-TextFieldSlot:not([data-side='right']) ~ .rt-TextFieldSlot:not([data-side='left'])\n          ")?n.value.length:0;requestAnimationFrame((()=>{try{n.setSelectionRange(i,i)}catch{}n.focus()}))}},i.createElement("input",{spellCheck:"false",...c,ref:(0,ue.F)(r,t),className:"rt-reset rt-TextFieldInput"}),n)}));ye.displayName="TextField.Root";const we=i.forwardRef(((e,t)=>{const{className:r,color:n,side:o,...s}=(0,ve.y)(e,ge);return i.createElement("div",{"data-accent-color":n,"data-side":o,...s,ref:t,className:ce("rt-TextFieldSlot",r)})}));we.displayName="TextField.Slot";var be=r(9674),Ce=r(8426),Ee=r(407);const Se={...Ee.C,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5","6","7","8","9"],responsive:!0}},ke=i.forwardRef(((e,t)=>{const{asChild:r,className:n,...o}=(0,ve.y)(e,Se,xe.E),s=r?Ce.fC:"kbd";return i.createElement(s,{...o,ref:t,className:ce("rt-reset","rt-Kbd",n)})}));ke.displayName="Kbd";var Fe=r(8584),Re=r(2482),Pe=r(9279),je=r(6937);const Ae={...Ee.C,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5","6","7","8","9"],responsive:!0},variant:{type:"enum",className:"rt-variant",values:["solid","soft","outline","ghost"],default:"soft"},...je.x,...de.o3,...Fe.K,...Pe.w,...Re.u},Ne=i.forwardRef(((e,t)=>{const{asChild:r,className:n,color:o,...s}=(0,ve.y)(e,Ae,xe.E),a="ghost"===e.variant?o||void 0:o,l=r?Ce.fC:"code";return i.createElement(l,{"data-accent-color":a,...s,ref:t,className:ce("rt-reset","rt-Code",n)})}));Ne.displayName="Code";const Le={...Ee.C,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["classic","solid","soft","surface","outline","ghost"],default:"solid"},...de.o3,...Fe.K,...pe.I,loading:{type:"boolean",className:"rt-loading",default:!1}},Ie={size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},loading:{type:"boolean",default:!0}},Oe=i.forwardRef(((e,t)=>{const{className:r,children:n,loading:o,...s}=(0,ve.y)(e,Ie,xe.E);if(!o)return n;const a=i.createElement("span",{...s,ref:t,className:ce("rt-Spinner",r)},i.createElement("span",{className:"rt-SpinnerLeaf"}),i.createElement("span",{className:"rt-SpinnerLeaf"}),i.createElement("span",{className:"rt-SpinnerLeaf"}),i.createElement("span",{className:"rt-SpinnerLeaf"}),i.createElement("span",{className:"rt-SpinnerLeaf"}),i.createElement("span",{className:"rt-SpinnerLeaf"}),i.createElement("span",{className:"rt-SpinnerLeaf"}),i.createElement("span",{className:"rt-SpinnerLeaf"}));return void 0===n?a:i.createElement(ae.k,{asChild:!0,position:"relative",align:"center",justify:"center"},i.createElement("span",null,i.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},n),i.createElement(ae.k,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},i.createElement("span",null,a))))}));Oe.displayName="Spinner";var Me=r(6219);const De=Me.f;Me.f;function Te(e,t){if(void 0!==e)return"string"==typeof e?t(e):Object.fromEntries(Object.entries(e).map((([e,r])=>[e,t(r)])))}function Ve(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}const $e=i.forwardRef(((e,t)=>{const{size:r=Le.size.default}=e,{className:n,children:o,asChild:s,color:a,radius:l,disabled:c=e.loading,...u}=(0,ve.y)(e,Le,xe.E),d=s?Ce.fC:"button";return i.createElement(d,{"data-disabled":c||void 0,"data-accent-color":a,"data-radius":l,...u,ref:t,className:ce("rt-reset","rt-BaseButton",n),disabled:c},e.loading?i.createElement(i.Fragment,null,i.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},o),i.createElement(De,null,o),i.createElement(ae.k,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},i.createElement("span",null,i.createElement(Oe,{size:Te(r,Ve)})))):o)}));$e.displayName="BaseButton";const He=i.forwardRef((({className:e,...t},r)=>i.createElement($e,{...t,ref:r,className:ce("rt-Button",e)})));He.displayName="Button";const Be=["author-speak-before","author-speak-after","author-speak-during","author-wait","editor-type","editor-save","editor-arrow-up","editor-arrow-down","editor-arrow-left","editor-arrow-right","editor-enter","editor-tab","editor-shift+arrow-left","editor-shift+arrow-right","editor-shift+arrow-down","editor-shift+arrow-up","editor-cmd+d","editor-backspace","editor-space","editor-highlight-code","editor-delete-line","editor-command-left","editor-command-right","editor-command-d","editor-command-c","editor-command-v","editor-shift-down-arrow","editor-shift-up-arrow","mouse-move-file-explorer","mouse-move-editor","mouse-move-editor-tab","mouse-move-editor-tab-close","mouse-move-terminal","mouse-move-terminal-tab","mouse-move-terminal-tab-close","mouse-move-file-explorer-file","mouse-move-file-explorer-folder","mouse-move-to-coordinates-pixels","mouse-move-to-coordinates-percent","mouse-move-file-explorer-context-menu-new-file","mouse-move-file-explorer-context-menu-new-folder","mouse-move-file-explorer-file-context-menu-rename","mouse-move-file-explorer-file-context-menu-delete","mouse-move-file-explorer-folder-context-menu-new-file","mouse-move-file-explorer-folder-context-menu-new-folder","mouse-move-file-explorer-folder-context-menu-rename","mouse-move-file-explorer-folder-context-menu-delete","mouse-move-editor-context-menu-go-to-definition","mouse-move-editor-context-menu-cut","mouse-move-editor-context-menu-copy","mouse-move-editor-context-menu-paste","mouse-move-unsaved-changes-dialog-button-save","mouse-move-unsaved-changes-dialog-button-dont-save","mouse-move-unsaved-changes-dialog-button-cancel","mouse-move","mouse-left-click","mouse-double-left-click","mouse-triple-left-click","mouse-right-click","mouse-right-double-click","mouse-right-triple-click","file-explorer-set-present-working-directory","file-explorer-set-file-contents","file-explorer-create-file","file-explorer-open-file","file-explorer-close-file","file-explorer-rename-file","file-explorer-delete-file","file-explorer-move-file","file-explorer-copy-file","file-explorer-create-folder","file-explorer-expand-folder","file-explorer-collapse-folder","file-explorer-rename-folder","file-explorer-delete-folder","file-explorer-toggle-folder","file-explorer-move-folder","file-explorer-copy-folder","file-explorer-show-context-menu","file-explorer-hide-context-menu","file-explorer-show-file-context-menu","file-explorer-hide-file-context-menu","file-explorer-show-folder-context-menu","file-explorer-hide-folder-context-menu","file-explorer-show-new-file-input","file-explorer-show-new-folder-input","file-explorer-hide-new-file-input","file-explorer-hide-new-folder-input","file-explorer-type-new-file-input","file-explorer-clear-new-file-input","file-explorer-type-new-folder-input","file-explorer-clear-new-folder-input","file-explorer-rename-file-draft-state","file-explorer-rename-folder-draft-state","file-explorer-type-rename-file-input","file-explorer-type-rename-folder-input","file-explorer-enter-new-file-input","file-explorer-enter-new-folder-input","file-explorer-enter-rename-file-input","file-explorer-enter-rename-folder-input","terminal-open","terminal-type","terminal-arrow-up","terminal-arrow-down","terminal-arrow-left","terminal-arrow-right","terminal-enter","terminal-output","terminal-tab","terminal-shift+arrow-right","terminal-shift+arrow-left","terminal-backspace","terminal-space","terminal-command-left","terminal-command-right","terminal-command-c","terminal-command-v","terminal-set-output","terminal-set-prompt","terminal-set-present-working-directory","external-browser"],ze="_____",We=["file-explorer-rename-file","file-explorer-rename-folder","file-explorer-move-file","file-explorer-move-folder","file-explorer-copy-file","file-explorer-copy-folder","file-explorer-set-file-contents"],_e=e=>void 0!==e.actions,Ue=e=>void 0!==e.lessons,qe=e=>!(e&&We.includes(e.name)&&!e.value.includes(ze))&&(e&&Be.includes(e.name)&&e.value),Xe=e=>Array.isArray(e)&&e.every((e=>(qe(e)||console.log("Invalid action:",e),qe(e)))),Ge=(e,t)=>{var r;return e&&Ue(e)&&e.lessons&&null!==t&&-1!==t?(null===(r=e.lessons[t])||void 0===r?void 0:r.actions)||[]:e&&_e(e)?e.actions:e&&Xe(e)?e:[]},Ke=e=>e.name.startsWith("editor-"),Ye=e=>e.name.startsWith("terminal-"),Ze=e=>!e.name.includes("type")&&!e.name.includes("speak")&&!e.name.includes("file-explorer"),Je=e=>e.name.startsWith("author-"),Qe=e=>e.name.startsWith("file-explorer-"),et=e=>e.name.startsWith("mouse-");var tt=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{stroke:"#71717A",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6.778 8.519L3 12.297l3.778 3.779M17.222 8.519L21 12.297l-3.778 3.779M9.271 18.595L14.73 6"})}));var rt=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24"},e,{children:[(0,n.jsx)("g",{fill:"#60A5FA",clipPath:"url(#clip0_20556_569)",children:(0,n.jsx)("path",{d:"M16.633 14.185v-4.37h1.105v4.37h-1.105zM15 12.552v-1.104h4.37v1.104H15zM21.599 14.185v-4.37h1.105v4.37h-1.105zm-1.633-1.633v-1.104h4.37v1.104h-4.37zM14.6 9.938h-2.49a2.436 2.436 0 00-.278-.858c-.14-.254-.32-.47-.54-.648a2.375 2.375 0 00-.761-.41 2.912 2.912 0 00-.926-.141c-.602 0-1.127.15-1.574.449-.447.295-.794.727-1.04 1.295-.246.564-.37 1.25-.37 2.057 0 .83.124 1.526.37 2.09.25.565.599.991 1.046 1.28.447.287.964.431 1.55.431.33 0 .635-.044.916-.13.284-.088.536-.215.755-.381.22-.17.402-.377.546-.62.147-.242.25-.519.307-.83l2.488.012a4.642 4.642 0 01-1.511 2.87 4.84 4.84 0 01-1.534.92c-.591.223-1.26.335-2.006.335-1.038 0-1.966-.235-2.784-.704-.814-.47-1.458-1.15-1.932-2.04-.47-.89-.704-1.968-.704-3.233 0-1.27.238-2.349.716-3.239.477-.89 1.125-1.568 1.943-2.034.818-.47 1.738-.704 2.761-.704.674 0 1.3.094 1.875.284.58.189 1.093.466 1.54.83.447.359.81.8 1.09 1.323.285.523.467 1.121.546 1.796z"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_20556_569",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0H24V24H0z",transform:"translate(.336)"})})})]}));var nt=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#14B8A6",d:"M15.263 9.938h-2.489a2.432 2.432 0 00-.278-.858c-.14-.254-.32-.47-.54-.648a2.375 2.375 0 00-.761-.41 2.912 2.912 0 00-.927-.141c-.602 0-1.126.15-1.573.449-.447.295-.794.727-1.04 1.295-.246.564-.37 1.25-.37 2.057 0 .83.124 1.526.37 2.09.25.565.598.991 1.045 1.28.447.287.964.431 1.551.431.33 0 .635-.044.915-.13.284-.088.536-.215.756-.381.22-.17.401-.377.545-.62.148-.242.25-.519.307-.83l2.489.012a4.643 4.643 0 01-1.511 2.87 4.84 4.84 0 01-1.535.92c-.59.223-1.26.335-2.005.335-1.038 0-1.966-.235-2.784-.704-.815-.47-1.459-1.15-1.932-2.04-.47-.89-.705-1.968-.705-3.233 0-1.27.239-2.349.716-3.239.477-.89 1.125-1.568 1.943-2.034.818-.47 1.739-.704 2.762-.704.674 0 1.299.094 1.875.284.58.189 1.093.466 1.54.83.446.359.81.8 1.09 1.323.284.523.466 1.121.546 1.796zM20.273 16.47l1.466-8.94h1.397l-1.467 8.94h-1.396zm-4.003-2.218l.232-1.397h6.983l-.231 1.397H16.27zm.86 2.217l1.467-8.938h1.396l-1.466 8.938H17.13zm-.349-5.325l.236-1.396H24l-.236 1.397h-6.983z"})}));var it=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#64748B",d:"M5.939 5.37a3.763 3.763 0 01-2.712 4.696l-1.099.272a10.777 10.777 0 00.012 3.4l1.015.244a3.763 3.763 0 012.728 4.723l-.35 1.187a9.936 9.936 0 002.792 1.734l.928-.976a3.763 3.763 0 015.454.001l.938.987a9.937 9.937 0 002.79-1.717l-.373-1.29a3.763 3.763 0 012.712-4.697l1.098-.271a10.774 10.774 0 00-.012-3.4l-1.014-.245a3.763 3.763 0 01-2.728-4.723l.35-1.186a9.929 9.929 0 00-2.792-1.735l-.928.976a3.762 3.762 0 01-5.454-.001l-.938-.987a9.932 9.932 0 00-2.79 1.717l.373 1.29zM12 14.822c-1.506 0-2.727-1.263-2.727-2.822 0-1.558 1.22-2.822 2.727-2.822 1.506 0 2.727 1.264 2.727 2.822 0 1.559-1.22 2.822-2.727 2.822z"})}));var ot=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#F87171",d:"M20.661 11.198l-7.86-7.859a1.159 1.159 0 00-1.639 0L9.53 4.972l2.07 2.07a1.376 1.376 0 011.744 1.755l1.995 1.995a1.377 1.377 0 011.425 2.278 1.38 1.38 0 01-2.251-1.5l-1.86-1.861-.001 4.897a1.38 1.38 0 11-1.134-.04V9.623a1.379 1.379 0 01-.749-1.809l-2.04-2.04-5.39 5.388a1.16 1.16 0 000 1.64l7.86 7.858a1.16 1.16 0 001.64 0l7.822-7.821a1.16 1.16 0 000-1.64"})}));var st=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24"},e,{children:[(0,n.jsxs)("g",{fill:"#60A5FA",clipPath:"url(#clip0_20558_611)",children:[(0,n.jsx)("path",{fillRule:"evenodd",d:"M1.878 9.794c-.046 0-.058-.023-.035-.058l.244-.313c.023-.035.081-.058.127-.058h4.14c.046 0 .058.035.034.07l-.197.301c-.023.035-.08.07-.116.07l-4.197-.012zM.128 10.86c-.047 0-.058-.022-.035-.057l.243-.313c.023-.035.081-.058.128-.058H5.75c.046 0 .07.035.058.07l-.093.278c-.012.046-.058.07-.104.07l-5.484.01zM2.933 11.928c-.046 0-.058-.035-.034-.07l.162-.29c.023-.035.07-.07.116-.07h2.319c.046 0 .07.035.07.082l-.024.278c0 .046-.046.081-.081.081l-2.528-.011zM14.968 9.585c-.73.186-1.229.325-1.948.51-.174.047-.185.059-.336-.115-.174-.197-.301-.325-.545-.44-.73-.36-1.438-.256-2.098.173-.789.51-1.195 1.264-1.183 2.203.012.928.65 1.693 1.565 1.82.789.105 1.45-.174 1.971-.765.104-.127.197-.267.313-.429H10.47c-.243 0-.3-.15-.22-.348.151-.36.43-.962.592-1.264a.313.313 0 01.29-.185h4.22c-.024.313-.024.626-.07.939-.127.835-.44 1.6-.95 2.273-.835 1.1-1.925 1.785-3.305 1.97-1.136.151-2.191-.07-3.119-.765-.858-.649-1.345-1.507-1.472-2.574-.151-1.263.22-2.4.985-3.397.823-1.078 1.913-1.762 3.247-2.006 1.09-.197 2.133-.07 3.072.569a3.634 3.634 0 011.345 1.634c.07.105.023.163-.116.197z",clipRule:"evenodd"}),(0,n.jsx)("path",{d:"M18.806 15.997c-1.055-.023-2.018-.325-2.83-1.02a3.636 3.636 0 01-1.251-2.238c-.21-1.31.15-2.47.939-3.501.846-1.113 1.866-1.693 3.246-1.937 1.183-.208 2.296-.092 3.305.592.915.626 1.483 1.472 1.634 2.585.197 1.566-.255 2.84-1.333 3.93-.765.777-1.704 1.264-2.783 1.485-.313.058-.626.07-.927.104zm2.76-4.684c-.012-.15-.012-.267-.036-.383-.208-1.147-1.263-1.797-2.365-1.542-1.078.244-1.774.928-2.029 2.018-.209.904.232 1.82 1.067 2.191.638.278 1.275.244 1.89-.07.916-.475 1.414-1.217 1.472-2.214z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_20558_611",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0H24V24H0z",transform:"translate(.336)"})})})]}));var at=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#F59E0B",d:"M8.383 7.318h2.127v7.1c0 .656-.147 1.226-.442 1.71a2.924 2.924 0 01-1.218 1.118c-.52.262-1.125.393-1.815.393-.613 0-1.17-.107-1.67-.323a2.67 2.67 0 01-1.183-.994c-.292-.448-.436-1.01-.433-1.686h2.143c.006.269.061.5.164.691.106.19.25.335.432.438.186.1.405.15.657.15.265 0 .488-.057.67-.17.186-.116.327-.285.423-.507.096-.222.145-.496.145-.82v-7.1zm9.43 2.928c-.04-.4-.21-.712-.511-.934-.302-.222-.711-.333-1.228-.333-.352 0-.648.05-.89.149-.242.096-.428.23-.557.403a.969.969 0 00-.19.586.838.838 0 00.115.477c.087.136.204.254.353.353.15.097.322.181.517.254.196.07.405.13.627.179l.915.219c.444.1.851.232 1.223.397.37.166.692.37.964.612s.482.527.631.855a2.7 2.7 0 01.234 1.129c-.003.623-.162 1.163-.477 1.62-.312.454-.763.807-1.353 1.06-.586.248-1.294.372-2.122.372-.822 0-1.538-.126-2.148-.378-.607-.252-1.08-.624-1.422-1.118-.338-.497-.515-1.112-.532-1.845h2.083c.023.342.121.627.293.855.176.226.41.397.702.513.295.112.628.168.999.168.364 0 .68-.053.95-.159.271-.106.482-.253.63-.442.15-.189.224-.406.224-.651a.846.846 0 00-.203-.577c-.133-.156-.329-.288-.587-.398a5.964 5.964 0 00-.94-.298l-1.108-.278c-.859-.21-1.537-.536-2.034-.98-.497-.444-.744-1.042-.74-1.795-.004-.616.16-1.155.492-1.615.334-.461.793-.82 1.377-1.08.583-.258 1.246-.387 1.989-.387.755 0 1.415.13 1.978.388.567.258 1.008.618 1.323 1.079.314.46.477.994.487 1.6h-2.063z"})}));var lt=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:[(0,n.jsx)("path",{fill:"#64748B",d:"M13.768 10.233l1.768-1.768a5 5 0 100 7.071l-1.768-1.768a2.5 2.5 0 110-3.535z"}),(0,n.jsx)("path",{fill:"#64748B",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 17.5a7.5 7.5 0 110-15 7.5 7.5 0 110 15z"})]}));var ct=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#60A5FA",d:"M3 15.714V8h2.323l2.322 2.836L9.968 8h2.322v7.714H9.968V11.29l-2.323 2.836-2.322-2.836v4.424H3zm14.516 0l-3.484-3.743h2.323V8h2.322v3.97H21l-3.484 3.744z"})}));var ut=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:[(0,n.jsx)("path",{fill:"#14B8A6",fillRule:"evenodd",d:"M14.622 21.322c-.6.11-1.284.174-1.999.178a12.52 12.52 0 01-2.179-.178c-1.136-.198-2.092-1.086-2.092-2.269v-4.156c0-1.217.93-2.217 2.092-2.217h4.178c1.418 0 2.613-1.271 2.613-2.712V7.974h1.438c1.216 0 1.926.92 2.223 2.213.401 1.735.384 2.773 0 4.435-.332 1.45-1.398 2.212-2.613 2.212H12.531v.555h4.183v1.664c0 1.26-.322 1.942-2.092 2.269zm-.176-2.837c-.532 0-.963.45-.963 1.005 0 .555.43 1.005.963 1.005.532 0 .963-.45.963-1.005 0-.555-.43-1.005-.963-1.005z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#14B8A6",fillRule:"evenodd",d:"M9.378 2.678c.6-.11 1.284-.174 1.999-.178.715-.003 1.46.053 2.179.178 1.136.198 2.092 1.086 2.092 2.269v4.156c0 1.217-.93 2.217-2.092 2.217H9.378c-1.418 0-2.613 1.271-2.613 2.712v1.994H5.327c-1.216 0-1.926-.92-2.223-2.213-.401-1.735-.384-2.773 0-4.435.332-1.45 1.397-2.213 2.613-2.213H11.469v-.554H7.286V4.947c0-1.26.322-1.942 2.092-2.269zm.176 2.838c.532 0 .963-.45.963-1.005 0-.555-.43-1.006-.963-1.006-.532 0-.964.45-.964 1.006 0 .555.432 1.005.964 1.005z",clipRule:"evenodd"})]}));var dt=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:[(0,n.jsx)("path",{fill:"#38BDF8",d:"M12 13.677a1.677 1.677 0 100-3.354 1.677 1.677 0 000 3.354z"}),(0,n.jsx)("path",{stroke:"#38BDF8",d:"M12 15.436c4.97 0 9-1.538 9-3.436s-4.03-3.436-9-3.436S3 10.102 3 12s4.03 3.436 9 3.436z"}),(0,n.jsx)("path",{stroke:"#38BDF8",d:"M9.024 13.718c2.485 4.305 5.832 7.025 7.476 6.076 1.644-.949.961-5.208-1.524-9.512C12.491 5.977 9.144 3.257 7.5 4.206c-1.644.949-.961 5.208 1.524 9.512z"}),(0,n.jsx)("path",{stroke:"#38BDF8",d:"M9.024 10.282c-2.485 4.304-3.168 8.563-1.524 9.512 1.644.95 4.99-1.771 7.476-6.076 2.485-4.304 3.168-8.563 1.524-9.512-1.644-.95-4.99 1.771-7.476 6.076z"})]}));var ht=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:[(0,n.jsx)("path",{fill:"#2563EB",d:"M12 13.677a1.677 1.677 0 100-3.354 1.677 1.677 0 000 3.354z"}),(0,n.jsx)("path",{stroke:"#2563EB",d:"M12 15.436c4.97 0 9-1.538 9-3.436s-4.03-3.436-9-3.436S3 10.102 3 12s4.03 3.436 9 3.436z"}),(0,n.jsx)("path",{stroke:"#2563EB",d:"M9.024 13.718c2.485 4.305 5.832 7.025 7.476 6.076 1.644-.949.961-5.208-1.524-9.512C12.491 5.977 9.144 3.257 7.5 4.206c-1.644.949-.961 5.208 1.524 9.512z"}),(0,n.jsx)("path",{stroke:"#2563EB",d:"M9.024 10.282c-2.485 4.304-3.168 8.563-1.524 9.512 1.644.95 4.99-1.771 7.476-6.076 2.485-4.304 3.168-8.563 1.524-9.512-1.644-.95-4.99 1.771-7.476 6.076z"})]}));var pt=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24"},e,{children:(0,n.jsx)("path",{fill:"#EA580C",fillRule:"evenodd",d:"M12.58 2.136a.287.287 0 00-.488 0l-.526.85a8.974 8.974 0 00-.232.022l-.683-.73a.287.287 0 00-.478.096l-.35.935c-.075.021-.15.044-.224.067l-.812-.583a.287.287 0 00-.45.187l-.162.989a9.088 9.088 0 00-.204.11l-.913-.417a.287.287 0 00-.406.272l.036 1.005a9.099 9.099 0 00-.175.144l-.98-.231a.287.287 0 00-.345.345l.231.98a9.125 9.125 0 00-.144.175L4.27 6.316a.287.287 0 00-.271.406l.416.913a9.036 9.036 0 00-.11.203L3.317 8a.287.287 0 00-.187.45l.584.813a8.953 8.953 0 00-.068.223l-.935.35a.287.287 0 00-.095.479l.73.682a8.966 8.966 0 00-.023.233l-.85.526a.287.287 0 000 .488l.85.526c.007.078.014.156.023.233l-.73.682a.287.287 0 00.095.479l.935.35.068.223-.584.812a.287.287 0 00.187.451l.99.162c.035.068.072.135.109.203l-.416.913a.287.287 0 00.271.406l1.006-.036c.047.059.095.117.143.174l-.23.981a.287.287 0 00.344.345l.981-.23c.057.048.115.095.174.142l-.036 1.006a.287.287 0 00.406.272l.914-.417c.067.038.135.074.203.11l.161.99a.287.287 0 00.451.186l.813-.584c.074.024.148.046.223.068l.35.935a.287.287 0 00.478.095l.683-.73c.077.01.154.017.232.023l.526.85a.287.287 0 00.489 0l.526-.85c.078-.006.155-.014.232-.023l.682.73a.287.287 0 00.479-.095l.35-.935c.075-.022.15-.044.223-.068l.813.584a.287.287 0 00.45-.187l.162-.99a8.77 8.77 0 00.203-.109l.913.417a.287.287 0 00.406-.272l-.035-1.006c.058-.047.116-.094.174-.143l.98.231a.287.287 0 00.346-.345l-.231-.98.143-.175 1.006.036a.287.287 0 00.271-.406l-.416-.913a9.4 9.4 0 00.109-.203l.99-.162a.287.287 0 00.187-.45l-.584-.813a8.43 8.43 0 00.067-.223l.935-.35a.287.287 0 00.096-.479l-.73-.682c.009-.077.016-.155.023-.233l.85-.526a.287.287 0 000-.488l-.85-.526a8.844 8.844 0 00-.023-.233l.73-.682a.287.287 0 00-.096-.479l-.934-.35a9.246 9.246 0 00-.068-.223l.584-.812A.287.287 0 0021.357 8l-.99-.162a8.92 8.92 0 00-.11-.203l.417-.913a.287.287 0 00-.271-.406l-1.006.036a9.178 9.178 0 00-.143-.174l.23-.981a.287.287 0 00-.345-.345l-.98.23a9.43 9.43 0 00-.174-.142l.035-1.006a.287.287 0 00-.405-.272l-.914.417a9.11 9.11 0 00-.203-.11l-.162-.99a.287.287 0 00-.45-.186l-.813.584a9.088 9.088 0 00-.223-.068l-.35-.935a.287.287 0 00-.479-.095l-.682.73a9.062 9.062 0 00-.232-.023l-.526-.85zm-.257 1.62a.592.592 0 01.578.596.595.595 0 11-.578-.595zm1.363.98A7.324 7.324 0 0118.7 8.309l-.702 1.585a.547.547 0 00.275.717l1.352.6c.041.422.047.847.015 1.27h-.752c-.075 0-.106.05-.106.123v.344c0 .812-.457.99-.859 1.034-.383.044-.806-.161-.86-.394-.22-1.24-.583-1.526-1.152-1.975l-.041-.033c.736-.467 1.502-1.158 1.502-2.08 0-.998-.683-1.625-1.148-1.934-.655-.43-1.379-.516-1.574-.516H6.88a7.324 7.324 0 014.098-2.312l.916.96a.54.54 0 00.766.018l1.026-.978zm-8.46 4.407a.595.595 0 11-.034 1.19.595.595 0 01.034-1.19zm14.192.026a.595.595 0 11-.035 1.19.595.595 0 01.035-1.19zm-13.07.096h1.037v4.678H5.291a7.324 7.324 0 01-.237-2.797l1.282-.57a.542.542 0 00.276-.716l-.264-.595zm4.33.05h2.47c.128 0 .901.147.901.727 0 .48-.593.653-1.081.653h-2.293l.002-1.38zm0 3.36h1.892c.172 0 .924.05 1.164 1.011.026.104.064.291.107.503.078.389.174.861.247 1.06.113.345.57 1.034 1.058 1.034h3.089c-.207.277-.433.54-.677.785l-1.258-.27a.544.544 0 00-.645.417l-.298 1.394a7.323 7.323 0 01-6.108-.03l-.298-1.392a.542.542 0 00-.643-.418l-1.23.264a7.32 7.32 0 01-.636-.75h5.984c.067 0 .113-.011.113-.074v-2.117c0-.061-.046-.075-.113-.075h-1.75l.001-1.341zm-2.763 4.848a.595.595 0 11-.034 1.19.595.595 0 01.034-1.19zm8.814.027a.596.596 0 11-.035 1.19.596.596 0 01.035-1.19z",clipRule:"evenodd"})}));var ft=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24"},e,{children:(0,n.jsx)("path",{stroke:"#14B8A6",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.336 17l6-6-6-6M12.336 19h8"})}));var mt=e=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:[(0,n.jsx)("rect",{width:"16",height:"2",x:"4",y:"6",fill:"#64748B",rx:"1"}),(0,n.jsx)("rect",{width:"12",height:"2",x:"4",y:"11",fill:"#64748B",rx:"1"}),(0,n.jsx)("rect",{width:"16",height:"2",x:"4",y:"16",fill:"#64748B",rx:"1"})]}));var gt=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#2563EB",d:"M3.234 9.093V7.318h8.363v1.775H8.479V17.5H6.352V9.093H3.234zm15.263 1.153c-.04-.4-.21-.712-.512-.934-.301-.222-.71-.333-1.228-.333-.351 0-.648.05-.89.149-.242.096-.427.23-.557.403a.969.969 0 00-.189.586.838.838 0 00.115.477c.086.136.204.254.353.353.149.097.321.181.517.254.195.07.404.13.626.179l.915.219c.444.1.852.232 1.223.397.371.166.693.37.965.612.271.242.482.527.631.855.152.328.23.704.234 1.129-.004.623-.163 1.163-.478 1.62-.311.454-.762.807-1.352 1.06-.587.248-1.294.372-2.123.372-.822 0-1.538-.126-2.147-.378-.607-.252-1.081-.624-1.422-1.118-.338-.497-.516-1.112-.532-1.845h2.083c.023.342.12.627.293.855.176.226.41.397.701.513.295.112.628.168 1 .168.364 0 .68-.053.949-.159.272-.106.482-.253.631-.442.15-.189.224-.406.224-.651a.846.846 0 00-.204-.577c-.132-.156-.328-.288-.586-.398a5.964 5.964 0 00-.94-.298l-1.109-.278c-.858-.21-1.536-.536-2.033-.98-.497-.444-.744-1.042-.74-1.795-.004-.616.16-1.155.491-1.615.335-.461.794-.82 1.377-1.08.584-.258 1.247-.387 1.99-.387.755 0 1.414.13 1.978.388.567.258 1.007.618 1.322 1.079.315.46.477.994.488 1.6h-2.064z"})}));var vt=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{fill:"#A78BFA",d:"M6.533 5.864h2.755l2.654 5.011h.113l2.654-5.011h2.756l-4.245 7.522V17.5h-2.443v-4.114L6.533 5.864z"})}));var xt=e=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:(0,n.jsx)("path",{stroke:"#64748B",strokeWidth:"2",d:"M7.784 5H5a2 2 0 00-2 2v10a2 2 0 002 2h14a2 2 0 002-2V9.875a2 2 0 00-2-2h-6.284a2 2 0 01-1.27-.455L9.054 5.455A2 2 0 007.783 5z"})}));class yt{constructor(e,t){this.presentWorkingDirectory="",this.currentFileStructure={},this.actionsApplied=[],this.openFiles=new Set,this.isFileExplorerContextMenuOpen=!1,this.isFileContextMenuOpen=!1,this.isFolderContextMenuOpen=!1,this.isNewFileInputVisible=!1,this.isNewFolderInputVisible=!1,this.newFileInputValue="",this.newFolderInputValue="",this.newFileParentPath="",this.newFolderParentPath="",this.isRenameFileInputVisible=!1,this.isRenameFolderInputVisible=!1,this.originalFileBeingRenamed="",this.originalFolderBeingRenamed="",this.renameFileInputValue="",this.renameFolderInputValue="",this.verbose=!1,this.currentFileRenameExtension="",this.verbose=t||!1,e&&this.applyActions(e)}applyActions(e){e.forEach((e=>{this.applyAction(e)}))}applyAction(e){switch(Ze(e)&&parseInt(e.value),e.name){case"file-explorer-set-present-working-directory":this.setPresentWorkingDirectory(e.value);break;case"file-explorer-set-file-contents":{const t=e.value.split(ze);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-set-file-contents: ${e.value}`);break}const r=t[0],n=t[1];this.verbose&&console.log(`Setting content of file ${r} to: ${n}`);const i=this.resolvePath(r);this.verbose&&console.log(`Resolved path for content: ${i}`);const{parent:o,name:s}=this.getParentDirectory(i);if(this.verbose&&console.log(`Parent: ${o}, name: ${s}`),!o[s]){this.verbose&&console.log(`File ${s} not found in parent. Cannot set content. Available keys: ${Object.keys(o)}`);break}o[s].content=n;break}case"file-explorer-show-context-menu":this.isFileExplorerContextMenuOpen=!0;break;case"file-explorer-hide-context-menu":this.isFileExplorerContextMenuOpen=!1;break;case"file-explorer-show-file-context-menu":{this.isFileContextMenuOpen=!0;const t=this.getParentDirectory(e.value);this.newFileParentPath=t.name;break}case"file-explorer-hide-file-context-menu":this.isFileContextMenuOpen=!1;break;case"file-explorer-show-folder-context-menu":{this.isFolderContextMenuOpen=!0;const t=this.getParentDirectory(e.value);this.newFolderParentPath=t.name;break}case"file-explorer-hide-folder-context-menu":this.isFolderContextMenuOpen=!1;break;case"file-explorer-show-new-file-input":this.isNewFileInputVisible=!0;break;case"file-explorer-hide-new-file-input":case"file-explorer-enter-new-file-input":this.isNewFileInputVisible=!1;break;case"file-explorer-show-new-folder-input":this.isNewFolderInputVisible=!0;break;case"file-explorer-hide-new-folder-input":case"file-explorer-enter-new-folder-input":this.isNewFolderInputVisible=!1;break;case"file-explorer-rename-file-draft-state":this.originalFileBeingRenamed=e.value,this.isRenameFileInputVisible=!0,this.renameFileInputValue=this.getFileNameWithoutExtension(e.value),this.currentFileRenameExtension=this.getFileExtension(e.value);break;case"file-explorer-rename-folder-draft-state":this.originalFolderBeingRenamed=e.value,this.isRenameFolderInputVisible=!0,this.renameFolderInputValue=e.value;break;case"file-explorer-type-rename-file-input":this.renameFileInputValue=e.value+"."+this.currentFileRenameExtension;break;case"file-explorer-enter-rename-file-input":this.isRenameFileInputVisible=!1,this.renameFileInputValue="",this.currentFileRenameExtension="",this.originalFileBeingRenamed="";break;case"file-explorer-type-rename-folder-input":this.renameFolderInputValue=e.value;break;case"file-explorer-enter-rename-folder-input":this.isRenameFolderInputVisible=!1,this.renameFolderInputValue="",this.originalFolderBeingRenamed="";break;case"file-explorer-type-new-file-input":this.newFileInputValue+=e.value;break;case"file-explorer-clear-new-file-input":this.newFileInputValue="";break;case"file-explorer-type-new-folder-input":this.newFolderInputValue+=e.value;break;case"file-explorer-clear-new-folder-input":this.newFolderInputValue="";break;case"file-explorer-create-file":{const t=this.resolvePath(e.value);this.verbose&&(console.log(`Creating file: ${e.value}`),console.log(`Resolved path: ${t}`));const{parent:r,name:n}=this.getParentDirectory(t);r[n]=this.createFileItem(n);break}case"file-explorer-open-file":this.openFile(e.value);break;case"file-explorer-close-file":this.closeFile(e.value);break;case"file-explorer-rename-file":{const t=e.value.split(ze);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-rename-file: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Renaming file from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&(l[c]=s[a],delete s[a],this.openFiles.has(r)&&(this.openFiles.delete(r),this.openFiles.add(n)));break}case"file-explorer-move-file":{const t=e.value.split(ze);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-move-file: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Moving file from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&(l[c]=s[a],delete s[a]);break}case"file-explorer-copy-file":{const t=e.value.split(ze);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-copy-file: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Copying file from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&(l[c]=Object.assign({},s[a]));break}case"file-explorer-delete-file":{const{parent:t,name:r}=this.getParentDirectory(e.value);delete t[r];break}case"file-explorer-create-folder":{const t=this.resolvePath(e.value);this.verbose&&(console.log(`Creating folder: ${e.value}`),console.log(`Resolved path: ${t}`));const{parent:r,name:n}=this.getParentDirectory(t);r[n]=this.createDirectoryItem();break}case"file-explorer-expand-folder":{const{parent:t,name:r}=this.getParentDirectory(e.value);t[r]&&"directory"===t[r].type&&(t[r].collapsed=!1);break}case"file-explorer-collapse-folder":{const{parent:t,name:r}=this.getParentDirectory(e.value);t[r]&&"directory"===t[r].type&&(t[r].collapsed=!0);break}case"file-explorer-rename-folder":{const t=e.value.split(ze);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-rename-folder: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Renaming folder from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&(l[c]=s[a],delete s[a]);break}case"file-explorer-move-folder":{const t=e.value.split(ze);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-move-folder: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Moving folder from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&"directory"===s[a].type&&(l[c]=s[a],delete s[a]);break}case"file-explorer-copy-folder":{const t=e.value.split(ze);if(2!==t.length){this.verbose&&console.warn(`Invalid value for file-explorer-copy-folder: ${e.value}`);break}const r=t[0],n=t[1],i=this.resolvePath(r),o=this.resolvePath(n);this.verbose&&(console.log(`Copying folder from ${r} to ${n}`),console.log(`Resolved paths: from ${i} to ${o}`));const{parent:s,name:a}=this.getParentDirectory(i),{parent:l,name:c}=this.getParentDirectory(o);s[a]&&"directory"===s[a].type&&(l[c]=this.copyDirectory(s[a]));break}case"file-explorer-delete-folder":{const{parent:t,name:r}=this.getParentDirectory(e.value);delete t[r];break}case"file-explorer-toggle-folder":{const{parent:t,name:r}=this.getParentDirectory(e.value);if(t[r]&&"directory"===t[r].type){const e=t[r];e.collapsed=!e.collapsed}break}}this.actionsApplied.push(e),this.verbose&&console.log(`Action: ${e.name}`)}getCurrentFileExplorerSnapshot(){return{fileStructure:this.currentFileStructure,isFileExplorerContextMenuOpen:this.isFileExplorerContextMenuOpen,isFileContextMenuOpen:this.isFileContextMenuOpen,isFolderContextMenuOpen:this.isFolderContextMenuOpen,isNewFileInputVisible:this.isNewFileInputVisible,isNewFolderInputVisible:this.isNewFolderInputVisible,newFileInputValue:this.newFileInputValue,newFolderInputValue:this.newFolderInputValue,isRenameFileInputVisible:this.isRenameFileInputVisible,isRenameFolderInputVisible:this.isRenameFolderInputVisible,originalFileBeingRenamed:this.originalFileBeingRenamed,originalFolderBeingRenamed:this.originalFolderBeingRenamed,renameFileInputValue:this.renameFileInputValue,renameFolderInputValue:this.renameFolderInputValue,newFileParentPath:this.newFileParentPath,newFolderParentPath:this.newFolderParentPath}}getPresentWorkingDirectory(){return this.presentWorkingDirectory}getCurrentFileTree(e=!0){return this.buildTreeString(this.currentFileStructure,"",e)}getFiles(){const e=[],t=(r,n)=>{for(const[i,o]of Object.entries(r))"directory"===o.type?t(o.children,`${n}/${i}`):e.push(`${n}/${i}`)};return t(this.currentFileStructure,""),e.sort()}getLsString(){let e=this.currentFileStructure,t=this.presentWorkingDirectory;t.startsWith("~")&&(t=t.slice(1));const r=this.getPathComponents(t);this.verbose&&(console.log("getLsString - Current path:",this.presentWorkingDirectory),console.log("getLsString - Processed path:",t),console.log("getLsString - Path components:",r),console.log("getLsString - Initial structure:",JSON.stringify(this.currentFileStructure,null,2)));for(const i of r){if(this.verbose&&console.log(`getLsString - Checking component: "${i}"`),!e[i]||"directory"!==e[i].type)return this.verbose&&(console.log(`getLsString - Directory not found: ${i}`),console.log("getLsString - Available keys:",Object.keys(e))),"";this.verbose&&console.log(`getLsString - Found directory: ${i}`),e=e[i].children,this.verbose&&console.log("getLsString - Children structure:",JSON.stringify(e,null,2))}const n=Object.keys(e).sort();return this.verbose&&console.log("getLsString - Final target directory contents:",n),0===n.length?"":n.join("\n")}getFileObjects(){const e=[],t=(r,n)=>{for(const[i,o]of Object.entries(r))e.push(o),"directory"===o.type&&t(o.children)};return t(this.currentFileStructure),e}getFullFilePathsAndContents(){const e=[],t=(r,n)=>{for(const[i,o]of Object.entries(r))"directory"===o.type?t(o.children,`${n}/${i}`):e.push({path:`${n}/${i}`,content:o.content})};return t(this.currentFileStructure,""),e}getCurrentFileStructure(){return this.currentFileStructure}getActionsApplied(){return this.actionsApplied}getFileContents(e){const t=this.resolvePath(e);this.verbose&&console.log(`Getting contents of file: ${e}`),this.verbose&&console.log(`Resolved path: ${t}`);const{parent:r,name:n}=this.getParentDirectory(t);this.verbose&&console.log(`Parent keys: ${Object.keys(r)}`);const i=r[n];return i?"directory"===i.type?(this.verbose&&console.warn(`Path points to a directory, not a file: ${t}`),""):i.content:(this.verbose&&console.warn(`File not found: ${t}`),"")}getOpenFiles(){return Array.from(this.openFiles).sort()}setVerbose(e){this.verbose=e}setPresentWorkingDirectory(e){"~"===e&&(e=""),this.presentWorkingDirectory=e}resolvePath(e){return e.startsWith("~")?e.slice(1):`${this.presentWorkingDirectory}/${e}`}getFileExtension(e){const t=e.split(".");return t.length>1?t.pop():""}createFileItem(e){return{type:"file",content:"",language:this.getFileExtension(e),caretPosition:{row:0,col:0}}}createDirectoryItem(){return{type:"directory",content:"",collapsed:!1,children:{}}}getPathComponents(e){return e.split("/").filter((e=>e.length>0))}getParentDirectory(e){const t=this.getPathComponents(e),r=t.pop();let n=this.currentFileStructure;for(const i of t)n[i]||(n[i]=this.createDirectoryItem()),n=n[i].children;return{parent:n,name:r}}copyDirectory(e){const t={type:"directory",content:e.content,collapsed:e.collapsed,children:{}};if(e.children)for(const[r,n]of Object.entries(e.children))"directory"===n.type?t.children[r]=this.copyDirectory(n):t.children[r]=Object.assign({},n);return t}buildTreeString(e,t="",r=!0){let n="";const i=Object.entries(e).sort((([e,t],[r,n])=>{const i="directory"===t.type,o="directory"===n.type;return i!==o?o?1:-1:e.localeCompare(r)}));for(const[o,s]of i)"directory"===s.type?(n+=`${t}${o}\n`,!r&&s.collapsed||!s.children||(n+=this.buildTreeString(s.children,t+"  ",r))):n+=`${t}${o}\n`;return n}openFile(e){const{parent:t,name:r}=this.getParentDirectory(e),n=t[r];n?"directory"!==n.type?this.openFiles.add(e):this.verbose&&console.warn(`Cannot open a directory: ${e}`):this.verbose&&console.warn(`File not found: ${e}`)}closeFile(e){this.openFiles.delete(e)}getFileNameWithoutExtension(e){const t=e.split("/");if(0===t.length)return"";const r=t[t.length-1],n=r.lastIndexOf(".");return-1===n?r:r.substring(0,n)}}class wt{constructor(e,t){this.currentLocation="editor",this.currentHoveredFileName="",this.currentHoveredFolderName="",this.currentHoveredEditorTabFileName="",this.actionsApplied=[],this.verbose=!1,this.verbose=t||!1,e&&this.applyActions(e)}applyActions(e){e.forEach((e=>{this.applyAction(e)}))}applyAction(e){switch(e.name){case"mouse-move-file-explorer":this.currentLocation="file-explorer";break;case"mouse-move-terminal":this.currentLocation="terminal";break;case"mouse-move-editor":this.currentLocation="editor";break;case"mouse-move-file-explorer-file":this.currentLocation="file-explorer-file",this.currentHoveredFileName=e.value;break;case"mouse-move-file-explorer-folder":this.currentLocation="file-explorer-folder",this.currentHoveredFolderName=e.value;break;case"mouse-move-to-coordinates-pixels":case"mouse-move-to-coordinates-percent":break;case"mouse-move-file-explorer-context-menu-new-file":this.currentLocation="file-explorer-context-menu-new-file";break;case"mouse-move-file-explorer-context-menu-new-folder":this.currentLocation="file-explorer-context-menu-new-folder";break;case"mouse-move-file-explorer-file-context-menu-rename":this.currentLocation="file-explorer-file-context-menu-rename";break;case"mouse-move-file-explorer-file-context-menu-delete":this.currentLocation="file-explorer-file-context-menu-delete";break;case"mouse-move-file-explorer-folder-context-menu-new-file":this.currentLocation="file-explorer-folder-context-menu-new-file";break;case"mouse-move-file-explorer-folder-context-menu-new-folder":this.currentLocation="file-explorer-folder-context-menu-new-folder";break;case"mouse-move-file-explorer-folder-context-menu-rename":this.currentLocation="file-explorer-folder-context-menu-rename";break;case"mouse-move-file-explorer-folder-context-menu-delete":this.currentLocation="file-explorer-folder-context-menu-delete";break;case"mouse-move-editor-tab":this.currentLocation="editor-tab",this.currentHoveredEditorTabFileName=e.value;break;case"mouse-move-editor-tab-close":this.currentLocation="editor-tab-close",this.currentHoveredEditorTabFileName=e.value;break;case"mouse-move-unsaved-changes-dialog-button-save":this.currentLocation="unsaved-changes-dialog-button-save";break;case"mouse-move-unsaved-changes-dialog-button-dont-save":this.currentLocation="unsaved-changes-dialog-button-dont-save";break;case"mouse-move-unsaved-changes-dialog-button-cancel":this.currentLocation="unsaved-changes-dialog-button-cancel"}e.name.startsWith("mouse-move")&&"mouse-move-file-explorer-file"!==e.name&&!e.name.startsWith("mouse-move-file-explorer-file-context-menu-")&&(this.currentHoveredFileName=""),e.name.startsWith("mouse-move")&&"mouse-move-file-explorer-folder"!==e.name&&!e.name.startsWith("mouse-move-file-explorer-folder-context-menu-")&&(this.currentHoveredFolderName=""),e.name.startsWith("mouse-move")&&"mouse-move-editor-tab"!==e.name&&"mouse-move-editor-tab-close"!==e.name&&(this.currentHoveredEditorTabFileName=""),this.actionsApplied.push(e),this.verbose&&console.log(`Action Name: ${e.name}, Action Value: ${e.value}`)}getCurrentMouseSnapshot(){return{location:this.currentLocation,currentHoveredFileName:this.currentHoveredFileName,currentHoveredFolderName:this.currentHoveredFolderName,currentHoveredEditorTabFileName:this.currentHoveredEditorTabFileName,x:0,y:0,timestamp:0,type:"move",button:0,buttonStates:{left:!1,right:!1,middle:!1},scrollPosition:{x:0,y:0},scrollDelta:0}}getCurrentLocation(){return this.currentLocation}getActionsApplied(){return this.actionsApplied}setVerbose(e){this.verbose=e}}class bt{constructor(e,t,r){this.caretRow=0,this.caretCol=0,this.highlightStartRow=-1,this.highlightStartCol=-1,this.verbose=!1,this.codeLinesHistory=[],this.speechCaptionHistory=[],this.caretPositionHistory=[],this.highlightStartPositionHistory=[],this.currentlyHighlightedCode="",this.highlightHistory=[],this.isSaved=!1,this.isEditorContextMenuOpen=!1,0===e.length&&(e=[""]),this.codeLines=e,this.actionsApplied=[{name:"editor-type",value:1===e.length?e[0]:e.join("\n")}],this.editorActionsApplied=[{name:"editor-type",value:1===e.length?e[0]:e.join("\n")}],this.codeLinesHistory=[],this.codeLinesHistory.push(e.slice()),this.highlightHistory=[],this.highlightHistory.push([""]),this.authorActionsApplied=[],this.speechCaptionHistory=[],this.caretPositionHistory=[{row:0,col:0}],this.highlightStartPositionHistory=[{row:-1,col:-1}],t&&this.applyActions(t),r&&(this.verbose=r)}applyActions(e){return e.forEach((e=>{this.applyAction(e)})),this.getCode()}applyAction(e){let t=1;Ze(e)&&(t=parseInt(e.value)),this.currentlyHighlightedCode="";const r=this.codeLines[this.caretRow].length;switch(e.name){case"editor-show-context-menu":this.isEditorContextMenuOpen=!0;break;case"editor-hide-context-menu":this.isEditorContextMenuOpen=!1;break;case"editor-enter":if(this.isSaved=!1,this.verbose&&(console.log("ENTER ACTION"),console.log("this.highlightStartRow: ",this.highlightStartRow),console.log("this.highlightStartCol: ",this.highlightStartCol)),-1!==this.highlightStartRow){const e=this.highlightStartRow<this.caretRow||this.highlightStartRow===this.caretRow&&this.highlightStartCol<=this.caretCol,r=e?this.highlightStartRow:this.caretRow,n=e?this.caretRow:this.highlightStartRow,i=e?this.highlightStartCol:this.caretCol,o=e?this.caretCol:this.highlightStartCol,s=this.codeLines[r].substring(0,i),a=this.codeLines[n].substring(o);this.codeLines[r]=s,n>r&&this.codeLines.splice(r+1,n-r);const l=Array(t-1).fill("");l.push(a),this.caretRow=r+t,this.caretCol=0,this.codeLines.splice(this.caretRow,0,...l),this.clearCurrentHighlightedCode()}else for(let e=0;e<t;e++){const e=this.codeLines[this.caretRow],t=e.substring(0,this.caretCol),r=e.substring(this.caretCol);this.verbose&&(console.log("currentLine: ",e),console.log("beforeCaret: ",t),console.log("afterCaret: ",r)),this.codeLines[this.caretRow]=t,this.codeLines.splice(this.caretRow+1,0,r),this.caretRow++,this.caretCol=0}break;case"editor-type":if(this.isSaved=!1,-1!==this.highlightStartRow){const e=this.highlightStartRow,t=this.highlightStartCol,r=this.caretRow,n=this.caretCol;e===r?this.codeLines[e]=this.codeLines[e].substring(0,t)+this.codeLines[e].substring(n):(this.codeLines[e]=this.codeLines[e].substring(0,t)+this.codeLines[r].substring(n),this.codeLines.splice(e+1,r-e)),this.caretRow=e,this.caretCol=t,this.clearCurrentHighlightedCode()}const n=e.value.length;for(let r=0;r<t;r++)this.codeLines[this.caretRow]=this.codeLines[this.caretRow].substring(0,this.caretCol)+e.value+this.codeLines[this.caretRow].substring(this.caretCol),this.caretCol+=n;break;case"editor-arrow-down":for(let e=0;e<t;e++)this.caretRow<this.codeLines.length-1&&this.caretRow++;this.clearCurrentHighlightedCode();break;case"editor-arrow-up":for(let e=0;e<t;e++)this.caretRow>0&&this.caretRow--;this.clearCurrentHighlightedCode();break;case"editor-arrow-right":for(let e=0;e<t;e++)this.caretCol<r?this.caretCol++:this.caretRow<this.codeLines.length-1&&(this.caretRow++,this.caretCol=0);this.clearCurrentHighlightedCode();break;case"editor-arrow-left":for(let e=0;e<t;e++)this.caretCol>0?this.caretCol--:this.caretRow>0&&(this.caretRow--,this.caretCol=this.codeLines[this.caretRow].length-1);this.clearCurrentHighlightedCode();break;case"editor-backspace":if(this.isSaved=!1,-1!==this.highlightStartRow){const e=Math.min(this.highlightStartRow,this.caretRow),t=Math.max(this.highlightStartRow,this.caretRow),r=this.highlightStartRow<this.caretRow,n=r?this.highlightStartCol:this.caretCol,i=r?this.caretCol:this.highlightStartCol;if(e===t){const t=Math.min(n,i),r=Math.max(n,i);this.codeLines[e]=this.codeLines[e].substring(0,t)+this.codeLines[e].substring(r),this.caretRow=e,this.caretCol=t}else{const r=this.codeLines[e].substring(0,n),o=this.codeLines[t].substring(i);this.codeLines[e]=r+o,this.codeLines.splice(e+1,t-e),this.caretRow=e,this.caretCol=n}this.clearCurrentHighlightedCode()}else for(let e=0;e<t;e++)if(this.caretCol>0)this.codeLines[this.caretRow]=this.codeLines[this.caretRow].substring(0,this.caretCol-1)+this.codeLines[this.caretRow].substring(this.caretCol),this.caretCol--;else if(this.caretRow>0){const e=this.codeLines[this.caretRow-1].length;this.codeLines[this.caretRow-1]+=this.codeLines[this.caretRow],this.codeLines.splice(this.caretRow,1),this.caretRow--,this.caretCol=e}break;case"editor-space":if(this.isSaved=!1,-1!==this.highlightStartRow){const e=Math.min(this.highlightStartRow,this.caretRow),t=Math.max(this.highlightStartRow,this.caretRow),r=e===this.highlightStartRow?this.highlightStartCol:this.caretCol,n=t===this.highlightStartRow?this.highlightStartCol:this.caretCol;if(e===t){const t=Math.min(r,n),i=Math.max(r,n);this.codeLines[e]=this.codeLines[e].substring(0,t)+this.codeLines[e].substring(i),this.caretRow=e,this.caretCol=t}else{const i=this.codeLines[e].substring(0,r),o=this.codeLines[t].substring(n);this.codeLines[e]=i+o,this.codeLines.splice(e+1,t-e),this.caretRow=e,this.caretCol=r}this.clearCurrentHighlightedCode()}for(let e=0;e<t;e++)this.codeLines[this.caretRow]=this.codeLines[this.caretRow].substring(0,this.caretCol)+" "+this.codeLines[this.caretRow].substring(this.caretCol),this.caretCol++;break;case"editor-tab":for(let e=0;e<t;e++)this.codeLines[this.caretRow]=this.codeLines[this.caretRow].substring(0,this.caretCol)+"\t"+this.codeLines[this.caretRow].substring(this.caretCol),this.caretCol++;break;case"editor-command-left":for(let e=0;e<t;e++)this.caretCol>0&&(this.caretCol=0);this.clearCurrentHighlightedCode();break;case"editor-command-right":for(let e=0;e<t;e++)this.caretCol<this.codeLines[this.caretRow].length&&(this.caretCol=this.codeLines[this.caretRow].length);this.clearCurrentHighlightedCode();break;case"editor-shift+arrow-left":-1===this.highlightStartRow&&(this.highlightStartRow=this.caretRow,this.highlightStartCol=this.caretCol);for(let e=0;e<t;e++)this.caretCol>0?this.caretCol--:this.caretRow>0&&(this.caretRow--,this.caretCol=this.codeLines[this.caretRow].length);this.currentlyHighlightedCode=this.calculateHighlightedText();break;case"editor-shift+arrow-right":-1===this.highlightStartRow&&(this.highlightStartRow=this.caretRow,this.highlightStartCol=this.caretCol);for(let e=0;e<t;e++)this.caretCol<this.codeLines[this.caretRow].length?this.caretCol++:this.caretRow<this.codeLines.length-1&&(this.caretRow++,this.caretCol=0);this.currentlyHighlightedCode=this.calculateHighlightedText();break;case"editor-shift+arrow-down":-1===this.highlightStartRow&&(this.highlightStartRow=this.caretRow,this.highlightStartCol=this.caretCol);for(let e=0;e<t;e++)if(this.caretRow<this.codeLines.length-1){const e=this.codeLines[this.caretRow+1].length;this.caretCol<e?this.caretRow++:(this.caretRow++,this.caretCol=e)}this.currentlyHighlightedCode=this.calculateHighlightedText();break;case"editor-shift+arrow-up":-1===this.highlightStartRow&&(this.highlightStartRow=this.caretRow,this.highlightStartCol=this.caretCol);for(let e=0;e<t;e++)if(this.caretRow>0){const e=this.codeLines[this.caretRow-1].length;this.caretCol<e?this.caretRow--:(this.caretRow--,this.caretCol=e)}this.currentlyHighlightedCode=this.calculateHighlightedText();break;case"editor-save":this.isSaved=!0;break;default:console.log(`WARNING: Action ${e.name} not recognized. Skipping... If this is an author or speak action those should eventually anyway be moved to VirtualAuthor - go yell at Chris to fix this.`)}this.actionsApplied.push(e),Ke(e)&&this.editorActionsApplied.push(e),Je(e)&&(this.authorActionsApplied.push(e),this.speechCaptionHistory.push({speechType:e.name,speechValue:e.value}));const n=this.codeLines.slice();return this.codeLinesHistory.push(n),this.caretPositionHistory.push({row:this.caretRow,col:this.caretCol}),this.highlightStartPositionHistory.push({row:-1===this.highlightStartRow?-1:this.highlightStartRow,col:-1===this.highlightStartCol?-1:this.highlightStartCol}),this.highlightHistory.push(""===this.currentlyHighlightedCode?[""]:[this.currentlyHighlightedCode]),this.verbose&&(console.log("PREVIOUS CODE:"),console.log(`\`${this.getCodeAtActionIndex(this.actionsApplied.length-2)}\``),console.log("APPLIED ACTION:"),console.log(e),console.log("CURRENT CODE:"),console.log(`\`${this.getCodeAtActionIndex(this.actionsApplied.length-1)}\``)),this.getCode()}getIsEditorContextMenuOpen(){return this.isEditorContextMenuOpen}getCodeLines(){return this.codeLines}getCurrentCaretPosition(){return{row:this.caretRow+1,col:this.caretCol+1}}getCurrentHighlightCoordinates(){if(-1===this.highlightStartRow)return null;return{start:{row:this.highlightStartRow+1,col:this.highlightStartCol+1},end:{row:this.caretRow+1,col:this.caretCol+1}}}getIsSaved(){return this.isSaved}getCurrentHighlightedCode(){return this.currentlyHighlightedCode}clearCurrentHighlightedCode(){this.highlightStartRow=-1,this.highlightStartCol=-1,this.currentlyHighlightedCode=""}setCurrentCaretPosition(e,t){this.caretRow=e-1,this.caretCol=t-1}getActionsApplied(){return this.actionsApplied}getCode(){return this.codeLines.join("\n")}getCodeAtActionIndex(e){if(e>this.codeLinesHistory.length-1)throw new Error("Action index out of bounds");return this.codeLinesHistory[e].join("\n")}getHighlightedCodeAtActionIndex(e){if(e>this.highlightHistory.length-1)throw new Error("Action index out of bounds");return this.highlightHistory[e].join("\n")}getCodeLinesHistory(){return this.codeLinesHistory}getAuthorActionsApplied(){return this.authorActionsApplied}getSpeechCaptionHistory(){return this.speechCaptionHistory}getEditorActionsApplied(){return this.editorActionsApplied}getCodeAfterEachStep(){return this.codeLinesHistory.map((e=>e.join("\n")))}getEditorStateAfterEachStep(){return this.codeLinesHistory.map(((e,t)=>({code:e.join("\n"),caretPosition:{row:this.caretPositionHistory[t].row,col:this.caretPositionHistory[t].col}})))}getDataForAnnotatedFrames(){return this.actionsApplied.map(((e,t)=>{const r=[];return Je(e)&&r.push({speechType:e.name,speechValue:e.value}),{actionApplied:this.actionsApplied[t],code:this.getCodeAtActionIndex(t),highlightStartPosition:-1!==this.highlightStartPositionHistory[t].row?{row:this.highlightStartPositionHistory[t].row,col:this.highlightStartPositionHistory[t].col}:null,highlightedCode:this.highlightHistory[t].join("\n"),caretPosition:{row:this.caretPositionHistory[t].row,col:this.caretPositionHistory[t].col},speechCaptions:r}}))}setVerbose(e){this.verbose=e}calculateHighlightedText(){if(-1===this.highlightStartRow)return"";if(this.caretRow===this.highlightStartRow){const e=Math.min(this.highlightStartCol,this.caretCol),t=Math.max(this.highlightStartCol,this.caretCol);return this.codeLines[this.caretRow].substring(e,t)}const e=[],t=Math.min(this.highlightStartRow,this.caretRow),r=Math.max(this.highlightStartRow,this.caretRow),n=this.highlightStartRow<this.caretRow;for(let i=t;i<=r;i++)if(i===t){const t=n?this.highlightStartCol:this.caretCol;e.push(this.codeLines[i].substring(t))}else if(i===r){const t=n?this.caretCol:this.highlightStartCol;e.push(this.codeLines[i].substring(0,t))}else e.push(this.codeLines[i]);return e.join("\n")}}class Ct{constructor(e,t,r){this.presentWorkingDirectory="~",this.prompt=`[codevideo.studio] [${this.presentWorkingDirectory}] /> `,this.caretPosition=0,this.currentCommand="",this.commandHistory=[],this.historyIndex=-1,this.actionsApplied=[],this.verbose=!1,this.bufferLines=[],this.bufferLines.push(this.prompt),e&&(this.currentCommand=e,this.caretPosition=e.length,this.bufferLines[0]+=e),t&&this.applyActions(t),this.verbose=r||!1}applyActions(e){return e.forEach((e=>{this.applyAction(e)})),this.getCurrentCommand()}applyAction(e){let t=1;switch(Ze(e)&&(t=parseInt(e.value)),e.name){case"terminal-set-output":this.addLinesToBufferLines(e.value);break;case"terminal-set-prompt":this.prompt=e.value;break;case"terminal-set-present-working-directory":this.setPresentWorkingDirectory(e.value);break;case"terminal-type":this.currentCommand=this.currentCommand.slice(0,this.caretPosition)+e.value+this.currentCommand.slice(this.caretPosition),this.caretPosition+=e.value.length,this.bufferLines[this.bufferLines.length-1]=this.prompt+this.currentCommand;break;case"terminal-enter":this.currentCommand.trim()&&this.commandHistory.push(this.currentCommand),this.historyIndex=this.commandHistory.length,this.currentCommand="",this.caretPosition=0;break;case"terminal-arrow-up":this.historyIndex>0&&(this.historyIndex--,this.currentCommand=this.commandHistory[this.historyIndex],this.caretPosition=this.currentCommand.length);break;case"terminal-arrow-down":this.historyIndex<this.commandHistory.length-1?(this.historyIndex++,this.currentCommand=this.commandHistory[this.historyIndex],this.caretPosition=this.currentCommand.length):this.historyIndex===this.commandHistory.length-1&&(this.historyIndex++,this.currentCommand="",this.caretPosition=0);break;case"terminal-arrow-left":for(let e=0;e<t&&this.caretPosition>0;e++)this.caretPosition--;break;case"terminal-arrow-right":for(let e=0;e<t&&this.caretPosition<this.currentCommand.length;e++)this.caretPosition++;break;case"terminal-backspace":for(let e=0;e<t;e++)this.caretPosition>0&&(this.currentCommand=this.currentCommand.slice(0,this.caretPosition-1)+this.currentCommand.slice(this.caretPosition),this.caretPosition--);break;case"terminal-space":this.currentCommand=this.currentCommand.slice(0,this.caretPosition)+" "+this.currentCommand.slice(this.caretPosition),this.caretPosition++;break;case"terminal-tab":this.currentCommand=this.currentCommand.slice(0,this.caretPosition)+"\t"+this.currentCommand.slice(this.caretPosition),this.caretPosition++;break;case"terminal-command-left":this.caretPosition=0;break;case"terminal-command-right":this.caretPosition=this.currentCommand.length}return this.actionsApplied.push(e),this.verbose&&console.log(`Action: ${e.name}, Command: ${this.currentCommand}, Caret: ${this.caretPosition}`),this.getCurrentCommand()}getCurrentCommand(){return this.currentCommand}getCommandHistory(){return this.commandHistory}getCurrentCaretPosition(){return this.caretPosition}getActionsApplied(){return this.actionsApplied}getPrompt(){return this.prompt}getPresentWorkingDirectory(){return this.presentWorkingDirectory}getBuffer(){return this.bufferLines}setVerbose(e){this.verbose=e}addLinesToBufferLines(e){e.split("\n").forEach((e=>{this.bufferLines.push(e)}))}setPresentWorkingDirectory(e){this.presentWorkingDirectory=e,this.prompt=`[codevideo.studio] [${this.presentWorkingDirectory}] /> `}}class Et{constructor(e,t){this.currentSpeechCaption="",this.actionsApplied=[],this.verbose=!1,this.verbose=t||!1,e&&this.applyActions(e)}applyActions(e){e.forEach((e=>{this.applyAction(e)}))}applyAction(e){switch(e.name){case"author-speak-before":case"author-speak-during":case"author-speak-after":this.currentSpeechCaption=e.value}this.actionsApplied.push(e),this.verbose&&console.log(`Action Name: ${e.name}, Action Value: ${e.value}`)}getActionsApplied(){return this.actionsApplied}getCurrentSpeechCaption(){return this.currentSpeechCaption}setVerbose(e){this.verbose=e}}const St=["cat","cd","cp","echo","ls","mkdir","mv","pwd","touch","tree"];class kt{constructor(e,t,r){this.virtualEditors=[],this.virtualTerminals=[],this.currentEditorIndex=-1,this.currentTerminalIndex=-1,this.currentAuthorIndex=-1,this.currentCursorPosition={x:-1,y:-1},this.isUnsavedChangesDialogOpen=!1,this.unsavedFileName="",this.verbose=!1,this.logs=[],this.virtualAuthors=[],r&&(this.verbose=r),this.virtualFileExplorer=new yt(void 0,this.verbose),this.virtualMouse=new wt,this.virtualEditors=[],this.virtualTerminals=[],this.virtualAuthors=[],e&&(Ue(e)&&this.reconstituteFromCourseAtActionIndex(e,t),_e(e)&&this.reconstituteFromLessonAtActionIndex(e,t),Xe(e)&&this.reconstituteFromActionsAtActionIndex(e,t))}addVirtualEditor(e,t){this.virtualEditors.push({fileName:e,virtualEditor:t})}addVirtualTerminal(e){this.virtualTerminals.push(e),this.currentTerminalIndex=this.virtualTerminals.length-1}addVirtualAuthor(e){this.virtualAuthors.push(e),this.currentAuthorIndex=this.virtualAuthors.length-1}applyAction(e){if(Qe(e)?(this.verbose&&console.log("VirtualIDE: Applying FILE EXPLORER ACTION",e),this.logs.push({source:"virtual-ide",type:"info",message:`Applying FILE EXPLORER action: ${e.name}`,timestamp:Date.now()}),this.virtualFileExplorer.applyAction(e)):Ke(e)?(this.verbose&&console.log("VirtualIDE: Applying EDITOR action",e),this.logs.push({source:"virtual-ide",type:"info",message:`Applying EDITOR action: ${e.name}`,timestamp:Date.now()}),0===this.virtualEditors.length&&(this.addVirtualEditor(e.value,new bt([],void 0,this.verbose)),this.currentEditorIndex=0),this.virtualEditors[this.currentEditorIndex].virtualEditor.applyAction(e)):Ye(e)?(this.verbose&&console.log("VirtualIDE: Applying TERMINAL action",e),this.logs.push({source:"virtual-ide",type:"info",message:`Applying TERMINAL action: ${e.name}`,timestamp:Date.now()}),0===this.virtualTerminals.length&&(this.addVirtualTerminal(new Ct(void 0,void 0,this.verbose)),this.currentTerminalIndex=0),this.virtualTerminals[this.currentTerminalIndex].applyAction(e)):Je(e)?(this.verbose&&console.log("VirtualIDE: Applying AUTHOR action",e),this.logs.push({source:"virtual-ide",type:"info",message:`Applying AUTHOR action: ${e.name}`,timestamp:Date.now()}),0===this.virtualAuthors.length&&(this.addVirtualAuthor(new Et(void 0,this.verbose)),this.currentAuthorIndex=0),this.virtualAuthors[this.currentAuthorIndex].applyAction(e)):et(e)?(this.verbose&&console.log("VirtualIDE: Applying MOUSE action",e),this.logs.push({source:"virtual-ide",type:"info",message:`Applying MOUSE action: ${e.name}`,timestamp:Date.now()}),this.virtualMouse.applyAction(e)):(this.verbose&&console.warn("VirtualIDE: Unknown action:",e),this.logs.push({source:"virtual-ide",type:"warning",message:`Unknown action: ${e.name}`,timestamp:Date.now()})),"file-explorer-open-file"===e.name){const t=e.value,r=this.virtualEditors.findIndex((e=>e.fileName===t));-1===r?(this.addVirtualEditor(t,new bt([],void 0,this.verbose)),this.currentEditorIndex=this.virtualEditors.length-1):this.currentEditorIndex=r}if("terminal-enter"===e.name&&this.executeTerminalCommandSideEffects(),"editor-save"===e.name){console.log("EXECUTE EDITOR SAVE SIDE EFFECTS: this.currentEditorIndex",this.currentEditorIndex),console.log("EXECUTE EDITOR SAVE SIDE EFFECTS: this.virtualEditors.length",this.virtualEditors.length);const e=this.virtualEditors[this.currentEditorIndex],t=e.fileName,r=e.virtualEditor.getCode();this.verbose&&console.log(`VirtualIDE: Saving file: <${t}> with contents: <${r}>`),this.virtualFileExplorer.applyAction({name:"file-explorer-set-file-contents",value:`${t}${ze}${r}`})}if("file-explorer-close-file"===e.name){const t=e.value,r=this.virtualEditors.findIndex((e=>e.fileName===t));-1!==r&&(this.virtualEditors.splice(r,1),this.currentEditorIndex=0)}const t=this.virtualMouse.getCurrentMouseSnapshot(),r=t.location,n=t.currentHoveredFileName,i=t.currentHoveredFolderName,o=t.currentHoveredEditorTabFileName;if("mouse-right-click"===e.name&&this.executeMouseRightClickSideEffects(r,n,i),"mouse-left-click"===e.name&&this.executeMouseLeftClickSideEffects(r,n,i,o),"file-explorer-enter-new-file-input"===e.name){const e=this.virtualFileExplorer.getCurrentFileExplorerSnapshot().newFileInputValue;if(this.virtualFileExplorer.getFiles().includes(e))this.verbose&&console.warn(`VirtualIDE: File already exists: ${e}`),this.logs.push({source:"virtual-ide",type:"warning",message:`File already exists: ${e}`,timestamp:Date.now()});else{console.log("FILE IS ",e),this.virtualFileExplorer.applyAction({name:"file-explorer-create-file",value:e}),this.virtualFileExplorer.applyAction({name:"file-explorer-hide-new-file-input",value:"1"}),this.virtualFileExplorer.applyAction({name:"file-explorer-clear-new-file-input",value:"1"}),this.virtualFileExplorer.applyAction({name:"file-explorer-open-file",value:e});const t=this.virtualEditors.findIndex((t=>t.fileName===e));-1===t?(this.addVirtualEditor(e,new bt([],void 0,this.verbose)),this.currentEditorIndex=this.virtualEditors.length-1):this.currentEditorIndex=t,this.virtualEditors[this.currentEditorIndex].virtualEditor.applyAction({name:"editor-save",value:"1"})}}if("file-explorer-enter-new-folder-input"===e.name){const e=this.virtualFileExplorer.getCurrentFileExplorerSnapshot().newFolderInputValue;this.virtualFileExplorer.getFiles().includes(e)?(this.verbose&&console.warn(`VirtualIDE: File already exists: ${e}`),this.logs.push({source:"virtual-ide",type:"warning",message:`File already exists: ${e}`,timestamp:Date.now()})):(this.virtualFileExplorer.applyAction({name:"file-explorer-create-folder",value:e}),this.virtualFileExplorer.applyAction({name:"file-explorer-hide-new-folder-input",value:"1"}),this.virtualFileExplorer.applyAction({name:"file-explorer-clear-new-folder-input",value:"1"}))}}executeMouseRightClickSideEffects(e,t,r){switch(e){case"file-explorer":this.virtualFileExplorer.applyAction({name:"file-explorer-show-context-menu",value:"1"});break;case"file-explorer-file":this.virtualFileExplorer.applyAction({name:"file-explorer-show-file-context-menu",value:t});break;case"file-explorer-folder":this.virtualFileExplorer.applyAction({name:"file-explorer-show-folder-context-menu",value:r});break;case"editor":this.virtualEditors[this.currentEditorIndex].virtualEditor.applyAction({name:"editor-show-context-menu",value:"1"})}}executeMouseLeftClickSideEffects(e,t,r,n){this.virtualFileExplorer.applyAction({name:"file-explorer-hide-context-menu",value:"1"}),this.virtualFileExplorer.applyAction({name:"file-explorer-hide-file-context-menu",value:"1"}),this.virtualFileExplorer.applyAction({name:"file-explorer-hide-folder-context-menu",value:"1"});const i=this.getActiveEditorSafely();if(i&&i.applyAction({name:"editor-hide-context-menu",value:"1"}),"file-explorer-context-menu-new-file"===e&&this.virtualFileExplorer.applyAction({name:"file-explorer-show-new-file-input",value:"1"}),"file-explorer-context-menu-new-folder"===e&&this.virtualFileExplorer.applyAction({name:"file-explorer-show-new-folder-input",value:"1"}),"file-explorer-file-context-menu-rename"===e&&this.virtualFileExplorer.applyAction({name:"file-explorer-rename-file-draft-state",value:t}),"file-explorer-file-context-menu-delete"===e&&this.virtualFileExplorer.applyAction({name:"file-explorer-delete-file",value:t}),"file-explorer-folder-context-menu-new-file"===e&&this.virtualFileExplorer.applyAction({name:"file-explorer-show-new-file-input",value:"1"}),"file-explorer-folder-context-menu-new-folder"===e&&this.virtualFileExplorer.applyAction({name:"file-explorer-show-new-folder-input",value:"1"}),"file-explorer-folder-context-menu-rename"===e&&this.virtualFileExplorer.applyAction({name:"file-explorer-rename-folder-draft-state",value:r}),"file-explorer-folder-context-menu-delete"===e&&this.virtualFileExplorer.applyAction({name:"file-explorer-delete-folder",value:r}),"file-explorer-file"===e){console.log("EXECUTE MOUSE LEFT CLICK SIDE EFFECTS, currentHoveredFileName",t);const e=t,r=this.virtualEditors.findIndex((t=>t.fileName===e));if(-1===r){this.addVirtualEditor(e,new bt([],void 0,this.verbose));const t=this.virtualEditors.findIndex((t=>t.fileName===e));this.currentEditorIndex=-1===t?this.virtualEditors.length-1:t}else this.currentEditorIndex=r}if("editor-tab"===e){const e=this.virtualEditors.findIndex((e=>e.fileName===n));this.verbose&&console.log(`VirtualIDE: Setting current editor index to: ${e}`),this.logs.push({source:"virtual-ide",type:"info",message:`Setting current editor index to: ${e}`,timestamp:Date.now()}),this.currentEditorIndex=e}if("editor-tab-close"===e){if(!this.virtualEditors[this.currentEditorIndex].virtualEditor.getIsSaved())return this.unsavedFileName=(e=>{const t=e.split("/");if(0===t.length)return e;const r=t[t.length-1];return""===r?e:r})(this.virtualEditors[this.currentEditorIndex].fileName),void(this.isUnsavedChangesDialogOpen=!0);console.log("EXECUTE MOUSE LEFT CLICK SIDE EFFECTS, currentHoveredEditorTabFileName",n),console.log("EXECUTE MOUSE LEFT CLICK SIDE EFFECTS, this.virtualEditors",this.virtualEditors);const e=this.virtualEditors.findIndex((e=>e.fileName===n));this.verbose&&console.log(`VirtualIDE: Closing editor: ${this.virtualEditors[e].fileName}`),this.logs.push({source:"virtual-ide",type:"info",message:`Closing editor: ${this.virtualEditors[e].fileName}`,timestamp:Date.now()}),this.virtualEditors.splice(e,1),this.virtualEditors.length>0?this.currentEditorIndex=0:this.currentEditorIndex=-1}if("unsaved-changes-dialog-button-save"===e){const e=this.virtualEditors[this.currentEditorIndex].fileName;this.verbose&&console.log(`VirtualIDE: Saving file: ${e}`),this.logs.push({source:"virtual-ide",type:"info",message:`Saving file: ${e}`,timestamp:Date.now()}),this.virtualFileExplorer.applyAction({name:"file-explorer-set-file-contents",value:`${e}${ze}${this.virtualEditors[this.currentEditorIndex].virtualEditor.getCode()}`}),this.virtualEditors.splice(this.currentEditorIndex,1),this.isUnsavedChangesDialogOpen=!1,this.unsavedFileName=""}"unsaved-changes-dialog-button-dont-save"===e&&(this.virtualEditors.splice(this.currentEditorIndex,1),this.virtualEditors.length>0?this.currentEditorIndex=0:this.currentEditorIndex=-1,this.isUnsavedChangesDialogOpen=!1,this.unsavedFileName=""),"unsaved-changes-dialog-button-cancel"===e&&(this.isUnsavedChangesDialogOpen=!1,this.unsavedFileName="")}executeTerminalCommandSideEffects(){this.verbose&&console.log("VirtualIDE: Executing terminal command side effects"),this.logs.push({source:"virtual-ide",type:"info",message:"Executing terminal command side effects",timestamp:Date.now()});const e=this.virtualTerminals[this.currentTerminalIndex],t=e.getPrompt(),r=e.getCommandHistory(),n=r.length>0?r[r.length-1]:"",i=n.split(" ");if(0===i.length)return;const o=i[0];if(!St.includes(o))return this.verbose&&console.log(`VirtualIDE: Unsupported command: ${o} - supported commands are: ${St.join(", ")}`),this.logs.push({source:"virtual-ide",type:"warning",message:`Unsupported command: ${o} - supported commands are: ${St.join(", ")}`,timestamp:Date.now()}),void e.applyAction({name:"terminal-set-output",value:t});if(1===i.length&&"ls"===n){const r=this.virtualFileExplorer.getLsString();return this.verbose&&console.log(`VirtualIDE: ls output: ${r}`),this.logs.push({source:"virtual-ide",type:"info",message:`ls output: ${r}`,timestamp:Date.now()}),0===r.length||e.applyAction({name:"terminal-set-output",value:r}),void e.applyAction({name:"terminal-set-output",value:t})}if(1===i.length&&"tree"===n){const r=this.virtualFileExplorer.getCurrentFileTree();return e.applyAction({name:"terminal-set-output",value:r}),void e.applyAction({name:"terminal-set-output",value:t})}let s=""===this.virtualFileExplorer.getPresentWorkingDirectory()?"~":this.virtualFileExplorer.getPresentWorkingDirectory();if(this.verbose&&console.log(`VirtualIDE: Present working directory: ${s}`),this.logs.push({source:"virtual-ide",type:"info",message:`Present working directory: ${s}`,timestamp:Date.now()}),1===i.length&&"pwd"===n)return e.applyAction({name:"terminal-set-output",value:s}),void e.applyAction({name:"terminal-set-output",value:t});if(2==i.length&&"touch"===o){this.verbose&&console.log(`VirtualIDE: Creating file: ${i[1]}`),this.logs.push({source:"virtual-ide",type:"info",message:`Creating file: ${i[1]}`,timestamp:Date.now()});const r=s+"/"+i[1];return this.verbose&&console.log(`VirtualIDE: Creating file: ${r}`),this.logs.push({source:"virtual-ide",type:"info",message:`Creating file: ${r}`,timestamp:Date.now()}),this.virtualFileExplorer.applyAction({name:"file-explorer-create-file",value:r}),void e.applyAction({name:"terminal-set-output",value:t})}if(2==i.length&&"mkdir"===o){this.verbose&&console.log(`VirtualIDE: Creating directory: ${i[1]}`),this.logs.push({source:"virtual-ide",type:"info",message:`Creating directory: ${i[1]}`,timestamp:Date.now()});const r=i[1];return this.virtualFileExplorer.applyAction({name:"file-explorer-create-folder",value:r}),void e.applyAction({name:"terminal-set-output",value:t})}if(2!=i.length||"cd"!==o){if(i.length>=2&&"echo"===o){let r=i.slice(1).join(" ");return(r.startsWith("'")||r.startsWith('"'))&&(r=r.slice(1)),(r.endsWith("'")||r.endsWith('"'))&&(r=r.slice(0,-1)),e.applyAction({name:"terminal-set-output",value:r}),void e.applyAction({name:"terminal-set-output",value:t})}if(2==i.length&&"cat"===o){const r=s+"/"+i[1];this.verbose&&console.log(`VirtualIDE: Reading file: ${r}`),this.logs.push({source:"virtual-ide",type:"info",message:`Reading file: ${r}`,timestamp:Date.now()});const n=this.virtualFileExplorer.getFileContents(r);return""!==n&&e.applyAction({name:"terminal-set-output",value:n}),void e.applyAction({name:"terminal-set-output",value:t})}if(3==i.length&&"cp"===o){const r=s+"/"+i[1],n=s+"/"+i[2];return this.verbose&&console.log(`VirtualIDE: Copying file from: ${r} to: ${n}`),this.logs.push({source:"virtual-ide",type:"info",message:`Copying file from: ${r} to: ${n}`,timestamp:Date.now()}),this.virtualFileExplorer.applyAction({name:"file-explorer-copy-file",value:`${r}${ze}${n}`}),void e.applyAction({name:"terminal-set-output",value:t})}if(3==i.length&&"mv"===o){const r=s+"/"+i[1],n=s+"/"+i[2];return this.verbose&&console.log(`VirtualIDE: Moving file from: ${r} to: ${n}`),this.logs.push({source:"virtual-ide",type:"info",message:`Moving file from: ${r} to: ${n}`,timestamp:Date.now()}),this.virtualFileExplorer.applyAction({name:"file-explorer-move-file",value:`${r}${ze}${n}`}),void e.applyAction({name:"terminal-set-output",value:t})}this.verbose&&console.log(`VirtualIDE: Unknown command: ${o}`),this.logs.push({source:"virtual-ide",type:"warning",message:`Unknown command: ${o}`,timestamp:Date.now()}),e.applyAction({name:"terminal-set-output",value:t})}else{this.verbose&&console.log(`VirtualIDE: Changing directory to: ${i[1]}`),this.logs.push({source:"virtual-ide",type:"info",message:`Changing directory to: ${i[1]}`,timestamp:Date.now()});const r=i[1];if(".."===r&&"~"===s)return void e.applyAction({name:"terminal-set-output",value:t});if(/[a-zA-Z0-9]\.[a-zA-Z0-9]/.test(r))return e.applyAction({name:"terminal-set-output",value:`cd: not a directory: ${r}`}),void e.applyAction({name:"terminal-set-output",value:t});if(".."===r){const e=s.split("/");e.pop(),s=e.join("/"),this.verbose&&console.log(`VirtualIDE: Changing directory to: ${s}`),this.logs.push({source:"virtual-ide",type:"info",message:`Changing directory to: ${s}`,timestamp:Date.now()})}else s=s+"/"+r,this.verbose&&console.log(`VirtualIDE: Changing directory to: ${s}`),this.logs.push({source:"virtual-ide",type:"info",message:`Changing directory to: ${s}`,timestamp:Date.now()});this.virtualFileExplorer.applyAction({name:"file-explorer-set-present-working-directory",value:s}),e.applyAction({name:"terminal-set-present-working-directory",value:s});const n=this.virtualTerminals[this.currentTerminalIndex].getPrompt();e.applyAction({name:"terminal-set-output",value:n})}}applyActions(e){e.forEach((e=>{this.applyAction(e)}))}getCursorPosition(){return-1===this.currentCursorPosition.x||-1===this.currentCursorPosition.y?null:this.currentCursorPosition}getOpenFiles(){return this.virtualFileExplorer.getOpenFiles()}getFileExplorerSnapshot(){return this.virtualFileExplorer.getCurrentFileExplorerSnapshot()}getMouseSnapshot(){return this.virtualMouse.getCurrentMouseSnapshot()}getEditorSnapshot(){const e=this.getActiveEditorSafely();return{editors:this.virtualEditors.map((e=>({isActive:e.fileName===this.virtualEditors[this.currentEditorIndex].fileName,filename:e.fileName,content:e.virtualEditor.getCode(),caretPosition:e.virtualEditor.getCurrentCaretPosition(),highlightCoordinates:e.virtualEditor.getCurrentHighlightCoordinates(),isSaved:e.virtualEditor.getIsSaved()}))),isEditorContextMenuOpen:!!e&&e.getIsEditorContextMenuOpen()}}getTerminalSnapshot(){return{terminals:this.virtualTerminals.map((e=>({content:e.getCurrentCommand()})))}}getAuthorSnapshot(){return{authors:this.virtualAuthors.map((e=>({currentSpeechCaption:e.getCurrentSpeechCaption()})))}}getCourseSnapshot(){return{isUnsavedChangesDialogOpen:this.isUnsavedChangesDialogOpen,unsavedFileName:this.unsavedFileName,fileExplorerSnapshot:this.getFileExplorerSnapshot(),editorSnapshot:this.getEditorSnapshot(),terminalSnapshot:this.getTerminalSnapshot(),mouseSnapshot:this.getMouseSnapshot(),authorSnapshot:this.getAuthorSnapshot()}}setVerbose(e){this.verbose=e,this.virtualFileExplorer.setVerbose(e),this.virtualEditors.forEach((t=>{t.virtualEditor.setVerbose(e)})),this.virtualTerminals.forEach((t=>{t.setVerbose(e)})),this.virtualAuthors.forEach((t=>{t.setVerbose(e)}))}getLogs(){return this.logs}getActiveEditorSafely(){if(0!==this.virtualEditors.length&&!(this.currentEditorIndex>=this.virtualEditors.length))return this.virtualEditors[this.currentEditorIndex].virtualEditor}reconstituteFromCourseAtActionIndex(e,t){void 0===t&&(t=0);const r=[];for(const i of e.lessons)r.push(...i.actions);const n=r.slice(0,t);this.applyActions(n)}reconstituteFromLessonAtActionIndex(e,t){void 0===t&&(t=0);const r=e.actions.slice(0,t);this.applyActions(r)}reconstituteFromActionsAtActionIndex(e,t){void 0===t&&(t=0);const r=e.slice(0,t);this.applyActions(r)}}var Ft=r(2469),Rt="codevideo-ide-react",Pt=1e3,jt=50,At={row:1,col:1},Nt={x:960,y:540};function Lt(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function It(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(l){a=[6,l],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function Ot(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function Mt(e){var t=e.editors,r=e.theme;return 0===t.length?(0,n.jsx)(se.x,{style:{backgroundColor:"light"===r?"var(--gray-5)":"var(--gray-4)",height:"30px",borderBottom:"1px solid var(--gray-7)"}}):(0,n.jsx)(ae.k,{style:{backgroundColor:"light"===r?"var(--gray-5)":"var(--gray-4)",height:"30px",borderBottom:"1px solid var(--gray-7)",pointerEvents:"none",userSelect:"none"},children:t.map((function(e){var t=e.filename,r=t.split("/").pop();return(0,n.jsxs)(ae.k,{"data-codevideo-id":"editor-tab-".concat(t),align:"center",style:{borderRight:"1px solid var(--gray-7)",padding:"0 10px"},children:[(0,n.jsx)(le.x,{style:{fontFamily:"Fira Code, monospace",color:"#CCCECC"},children:r}),e.isSaved?(0,n.jsx)(se.x,{"data-codevideo-id":"editor-tab-close-".concat(t),ml:"2",style:{color:"var(--gray-8)",padding:0,lineHeight:1,minWidth:"auto"},children:"×"}):(0,n.jsx)(se.x,{"data-codevideo-id":"editor-tab-close-".concat(t),ml:"2",style:{width:"8px",height:"8px",backgroundColor:"var(--gray-8)",borderRadius:"9999px"}})]},e.filename)}))})}"function"==typeof SuppressedError&&SuppressedError;var Dt=function(e){var t=e.url,r=(0,i.useState)(!1),o=r[0],s=r[1],a=(0,i.useState)(!1),l=a[0],c=a[1];return(0,i.useEffect)((function(){var e=setTimeout((function(){l||s(!0)}),1e4);return function(){return clearTimeout(e)}}),[l]),(0,n.jsx)(se.x,{style:{width:"100%",height:"100vh"},children:o?(0,n.jsx)(ae.k,{align:"center",justify:"center",style:{height:"100%"},children:(0,n.jsxs)(le.x,{size:"5",style:{color:"var(--gray-10)"},children:["Failed to load external content from ",t,". The site may be invalid or not allow iframes."]})}):(0,n.jsx)("iframe",{src:t,title:"External Web Viewer",style:{width:"100%",height:"100%",border:0},sandbox:"allow-same-origin allow-scripts allow-popups",onLoad:function(){return c(!0)},onError:function(){return s(!0)}})})},Tt=function(e){return Lt(void 0,void 0,void 0,(function(){return It(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))},Vt=function(e,t,r){return Lt(void 0,void 0,void 0,(function(){return It(this,(function(n){return[2,new Promise((function(n,i){if($t(),r){console.log("Creating audio element for MP3 URL:",r),console.log("Volume",t);var o=new Audio(r);return o.volume=t,o.onended=function(){n()},o.onerror=function(e){if("string"==typeof e)console.error("Audio playback error:",e);else try{console.error("Audio error event:",e.type),e.target&&e.target.error&&console.error("Error details:",e.target.error)}catch(e){console.error("Failed to extract error details:",e)}n()},void o.play().catch((function(e){return Lt(void 0,void 0,void 0,(function(){var t,r;return It(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e instanceof Error?console.error("".concat(e.name,": ").concat(e.message,"\nStack: ").concat(e.stack)):console.error(String(e)),console.error(String(e)),[4,e.getProperty("message")];case 1:return[4,i.sent().jsonValue()];case 2:return t=i.sent(),console.error("Failed to play audio:",t),[3,4];case 3:return r=i.sent(),console.error("Failed to extract error message:",r),[3,4];case 4:return n(),[2]}}))}))}))}var s=window.speechSynthesis,a=new SpeechSynthesisUtterance(e);a.volume=t,a.onend=function(){n()},a.onerror=function(e){n()},s.speak(a)}))]}))}))},$t=function(){window.speechSynthesis.cancel();for(var e=document.getElementsByTagName("audio"),t=0;t<e.length;t++)e[t].pause()};function Ht(e){var t,r=e.filename;if(!r)return(0,n.jsx)(tt,{height:"20"});var i=null===(t=r.split(".").pop())||void 0===t?void 0:t.toLowerCase();if("LICENSE"===r.toUpperCase())return(0,n.jsx)(lt,{height:"20"});if("README"===r.toUpperCase())return(0,n.jsx)(ct,{height:"20"});switch(i){case"js":return(0,n.jsx)(at,{height:"20"});case"ts":return(0,n.jsx)(gt,{height:"20"});case"go":return(0,n.jsx)(st,{height:"20"});case"sh":case"zsh":return(0,n.jsx)(ft,{height:"20"});case"yaml":return(0,n.jsx)(vt,{height:"20"});case"cs":return(0,n.jsx)(nt,{height:"20"});case"cpp":return(0,n.jsx)(rt,{height:"20"});case"jsx":return(0,n.jsx)(dt,{height:"20"});case"tsx":return(0,n.jsx)(ht,{height:"20"});case"env":case"toml":return(0,n.jsx)(it,{height:"20"});case"gitignore":return(0,n.jsx)(ot,{height:"20"});case"md":return(0,n.jsx)(ct,{height:"20"});case"py":return(0,n.jsx)(ut,{height:"20"});case"rs":return(0,n.jsx)(pt,{height:"20"});case"txt":return(0,n.jsx)(mt,{height:"20"});default:return(0,n.jsx)(tt,{height:"20"})}}var Bt=function(e){var t=e.isVisible,r=e.currentMousePosition,o=(0,i.useRef)(null),s=(0,i.useRef)(null),a=(0,i.useState)(null),l=a[0],c=a[1],u=(0,i.useState)(Nt),d=u[0],h=u[1];return(0,i.useEffect)((function(){t&&h({x:r.x,y:r.y})}),[t]),(0,i.useEffect)((function(){if(t){!function(){if(o.current){var e=o.current.getBoundingClientRect();if(r.x>=e.left&&r.x<=e.right&&r.y>=e.top&&r.y<=e.bottom)return void c("file")}if(s.current){var t=s.current.getBoundingClientRect();if(r.x>=t.left&&r.x<=t.right&&r.y>=t.top&&r.y<=t.bottom)return void c("folder")}c(null)}()}}),[t,r]),t?(0,n.jsx)(se.x,{style:{position:"fixed",left:"".concat(d.x,"px"),top:"".concat(d.y,"px"),backgroundColor:"var(--gray-4)",border:"1px solid var(--mint-7)",borderRadius:"var(--radius-2)",width:"180px",boxShadow:"var(--shadow-3)",zIndex:1e3,overflow:"hidden"},children:(0,n.jsxs)(ae.k,{direction:"column",children:[(0,n.jsx)(se.x,{"data-codevideo-id":"file-explorer-context-menu-new-file",ref:o,style:{padding:"8px 12px",cursor:"pointer",backgroundColor:"file"===l?"var(--mint-3)":"transparent",userSelect:"none"},children:(0,n.jsx)(le.x,{size:"2",children:"New File..."})}),(0,n.jsx)(se.x,{"data-codevideo-id":"file-explorer-context-menu-new-folder",ref:s,style:{padding:"8px 12px",cursor:"pointer",backgroundColor:"folder"===l?"var(--mint-3)":"transparent",userSelect:"none"},children:(0,n.jsx)(le.x,{size:"2",children:"New Folder..."})})]})}):null},zt=function(e){var t=e.isVisible,r=e.currentMousePosition,o=(0,i.useRef)(null),s=(0,i.useRef)(null),a=(0,i.useState)(null),l=a[0],c=a[1],u=(0,i.useState)(Nt),d=u[0],h=u[1];return(0,i.useEffect)((function(){t&&h({x:r.x,y:r.y})}),[t]),(0,i.useEffect)((function(){if(t){!function(){if(o.current){var e=o.current.getBoundingClientRect();if(r.x>=e.left&&r.x<=e.right&&r.y>=e.top&&r.y<=e.bottom)return void c("rename")}if(s.current){var t=s.current.getBoundingClientRect();if(r.x>=t.left&&r.x<=t.right&&r.y>=t.top&&r.y<=t.bottom)return void c("delete")}c(null)}()}}),[t,r]),t?(0,n.jsx)(se.x,{style:{position:"fixed",left:"".concat(d.x,"px"),top:"".concat(d.y,"px"),backgroundColor:"var(--gray-4)",border:"1px solid var(--mint-7)",borderRadius:"var(--radius-2)",width:"180px",boxShadow:"var(--shadow-3)",zIndex:1e3,overflow:"hidden"},children:(0,n.jsxs)(ae.k,{direction:"column",children:[(0,n.jsx)(se.x,{"data-codevideo-id":"file-explorer-file-context-menu-rename",ref:o,style:{padding:"8px 12px",cursor:"pointer",backgroundColor:"rename"===l?"var(--mint-3)":"transparent",userSelect:"none"},children:(0,n.jsx)(le.x,{size:"2",children:"Rename..."})}),(0,n.jsx)(se.x,{"data-codevideo-id":"file-explorer-file-context-menu-delete",ref:s,style:{padding:"8px 12px",cursor:"pointer",backgroundColor:"delete"===l?"var(--mint-3)":"transparent",userSelect:"none"},children:(0,n.jsx)(le.x,{size:"2",children:"Delete"})})]})}):null},Wt=function(e){var t=e.isVisible,r=e.currentMousePosition,o=(0,i.useRef)(null),s=(0,i.useRef)(null),a=(0,i.useRef)(null),l=(0,i.useRef)(null),c=(0,i.useState)(null),u=c[0],d=c[1],h=(0,i.useState)(Nt),p=h[0],f=h[1];return(0,i.useEffect)((function(){t&&f({x:r.x,y:r.y})}),[t]),(0,i.useEffect)((function(){if(t){!function(){if(o.current){var e=o.current.getBoundingClientRect();if(r.x>=e.left&&r.x<=e.right&&r.y>=e.top&&r.y<=e.bottom)return void d("file")}if(s.current){var t=s.current.getBoundingClientRect();if(r.x>=t.left&&r.x<=t.right&&r.y>=t.top&&r.y<=t.bottom)return void d("folder")}if(a.current){var n=a.current.getBoundingClientRect();if(r.x>=n.left&&r.x<=n.right&&r.y>=n.top&&r.y<=n.bottom)return void d("rename")}if(l.current){n=l.current.getBoundingClientRect();if(r.x>=n.left&&r.x<=n.right&&r.y>=n.top&&r.y<=n.bottom)return void d("delete")}d(null)}()}}),[t,r]),t?(0,n.jsx)(se.x,{style:{position:"fixed",left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),backgroundColor:"var(--gray-4)",border:"1px solid var(--mint-7)",borderRadius:"var(--radius-2)",width:"180px",boxShadow:"var(--shadow-3)",zIndex:1e3,overflow:"hidden"},children:(0,n.jsxs)(ae.k,{direction:"column",children:[(0,n.jsx)(se.x,{"data-codevideo-id":"file-explorer-folder-context-menu-new-file",ref:o,style:{padding:"8px 12px",cursor:"pointer",backgroundColor:"file"===u?"var(--mint-3)":"transparent",userSelect:"none"},children:(0,n.jsx)(le.x,{size:"2",children:"New File..."})}),(0,n.jsx)(se.x,{"data-codevideo-id":"file-explorer-folder-context-menu-new-folder",ref:s,style:{padding:"8px 12px",cursor:"pointer",backgroundColor:"folder"===u?"var(--mint-3)":"transparent",userSelect:"none"},children:(0,n.jsx)(le.x,{size:"2",children:"New Folder..."})}),(0,n.jsx)(se.x,{"data-codevideo-id":"file-explorer-folder-context-menu-rename",ref:a,style:{padding:"8px 12px",cursor:"pointer",backgroundColor:"rename"===u?"var(--mint-3)":"transparent",userSelect:"none"},children:(0,n.jsx)(le.x,{size:"2",children:"Rename..."})}),(0,n.jsx)(se.x,{"data-codevideo-id":"file-explorer-folder-context-menu-delete",ref:l,style:{padding:"8px 12px",cursor:"pointer",backgroundColor:"delete"===u?"var(--mint-3)":"transparent",userSelect:"none"},children:(0,n.jsx)(le.x,{size:"2",children:"Delete"})})]})}):null};function _t(e){var t=e.theme,r=e.isFileExplorerContextMenuVisible,i=e.isFileContextMenuVisible,o=e.isFolderContextMenuVisible,s=e.isNewFileInputVisible,a=e.isNewFolderInputVisible,l=e.currentMousePosition,c=e.newFolderInputValue,u=e.newFileInputValue,d=e.currentFileName,h=e.originalFileBeingRenamed,p=e.originalFolderBeingRenamed,f=e.renameFileInputValue,m=e.renameFolderInputValue,g=e.currentHoveredFileName,v=e.currentHoveredFolderName,x=e.fileStructure,y=e.fileExplorerWidth,w=e.newFileParentPath,b=e.newFolderParentPath;console.log("[FileExplorer] Props state:"),console.log("- isNewFileInputVisible:",s),console.log("- isNewFolderInputVisible:",a),console.log("- newFileInputValue:",u),console.log("- newFolderInputValue:",c),console.log("- newFileParentPath:",w),console.log("- newFolderParentPath:",b);var C,E,S=function(e){return e===h?(0,n.jsx)(ye,{value:f,readOnly:!0}):e===p?(0,n.jsx)(ye,{value:m,readOnly:!0}):(0,n.jsx)(le.x,{style:{fontFamily:"Fira Code, monospace",color:"#CCCECC",fontSize:"0.9em"},children:e})},k=function(){if(!s)return null;var e="new-file-input-".concat(w||"root");return console.log("[FileExplorer] Rendering file input with ID: ".concat(e,", value: ").concat(u)),(0,n.jsxs)(ae.k,{"data-codevideo-id":e,align:"center",gap:"2",mt:"1",children:[(0,n.jsx)(mt,{height:"20"}),(0,n.jsx)(ye,{value:u,readOnly:!0,autoFocus:!0})]})},F=function(){if(!a)return null;var e="new-folder-input-".concat(b||"root");return console.log("[FileExplorer] Rendering folder input with ID: ".concat(e,", value: ").concat(c)),(0,n.jsxs)(ae.k,{"data-codevideo-id":e,align:"center",gap:"2",mt:"1",children:[(0,n.jsx)(xt,{height:"20"}),(0,n.jsx)(ye,{value:c,readOnly:!0,autoFocus:!0})]})},R=function(e,t,r){void 0===t&&(t="");var i=Object.entries(e).sort((function(e,t){var r="directory"===e[1].type;return r===("directory"===t[1].type)?e[0].localeCompare(t[0]):r?-1:1}));return i.map((function(e){var i=e[0],o=e[1],l=t?"".concat(t,"/").concat(i):i,c="directory"===o.type,u=0===r?"0":"4",h=r+1,p=d===l||g===l||v===l,f=s&&w===l&&c,m=a&&b===l&&c;return(f||m)&&console.log("[FileExplorer] Directory ".concat(l," should show inputs:"),{file:f,folder:m}),(0,n.jsxs)(se.x,{ml:u,children:[(0,n.jsxs)(ae.k,{"data-codevideo-id":"file-explorer-".concat(l),align:"center",gap:"2",style:{backgroundColor:p?"var(--mint-2)":"transparent",width:p?"100%":"auto"},children:[c?(0,n.jsx)(xt,{height:"20"}):(0,n.jsx)(Ht,{filename:i}),S(i)]}),c&&(0,n.jsxs)(se.x,{ml:"4",children:[f&&k(),m&&F(),o.children&&R(o.children,l,h)]})]},l)}))};return x?(0,n.jsxs)(se.x,{p:"1",style:{height:"100%",width:y?"".concat(y,"px"):"250px",borderRight:"1px solid var(--gray-7)",backgroundColor:"light"===t?"var(--gray-5)":"var(--gray-4)",pointerEvents:"none",userSelect:"none"},children:[(0,n.jsxs)(se.x,{p:"2",children:[R(x,"",0),(C=s&&(""===w||null==w),E=a&&(""===b||null==b),(C||E)&&console.log("[FileExplorer] Showing root level inputs:",{file:C,folder:E}),(0,n.jsxs)(n.Fragment,{children:[C&&k(),E&&F()]}))]}),(0,n.jsx)(se.x,{"data-codevideo-id":"file-explorer",style:{flexGrow:1,minHeight:"20px"}}),(0,n.jsx)(Bt,{isVisible:r,currentMousePosition:l}),(0,n.jsx)(zt,{isVisible:i,currentMousePosition:l}),(0,n.jsx)(Wt,{isVisible:o,currentMousePosition:l})]}):(0,n.jsx)(n.Fragment,{})}function Ut(e){var t=e.theme,r=e.terminalBuffer,o=e.terminalHeight,s=(0,i.useRef)(null);return(0,i.useEffect)((function(){s.current&&(s.current.scrollTop=s.current.scrollHeight)}),[r]),0===r.length?(0,n.jsx)(se.x,{style:{backgroundColor:"light"===t?"var(--gray-5)":"var(--gray-4)",height:o?"".concat(o,"px"):"150px",borderTop:"1px solid var(--gray-7)"}}):(0,n.jsx)(se.x,{"data-codevideo-id":"terminal",ref:s,style:{borderTop:"1px solid var(--gray-7)",height:o?"".concat(o,"px"):"150px",backgroundColor:"light"===t?"var(--gray-5)":"var(--gray-4)",fontFamily:"Fira Code, monospace",padding:"8px",position:"relative",overflow:"auto",scrollBehavior:"smooth"},children:(0,n.jsxs)(se.x,{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",fontWeight:"bold",width:"100%"},children:[r,(0,n.jsx)(se.x,{style:{display:"inline-block",width:"2px",height:"19px",marginBottom:"-4px",backgroundColor:"var(--gray-12)",animation:"blink 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]})})}var qt=function(e,t,r,n,i){var o=1-e,s=o*o,a=s*o,l=e*e,c=l*e;return{x:a*t.x+3*s*e*r.x+3*o*l*n.x+c*i.x,y:a*t.y+3*s*e*r.y+3*o*l*n.y+c*i.y}},Xt=function(e){var t=e.mode,r=e.mouseVisible,o=e.targetMousePosition,s=e.mouseColor,a=e.arcHeight,l=void 0===a?.3:a,c=e.numberOfCurves,u=void 0===c?1:c,d=e.onAnimationFinished,h=e.onCurrentPositionChange,p=(0,i.useRef)(null),f=(0,i.useState)(o),m=f[0],g=f[1],v=(0,i.useState)(o),x=v[0],y=v[1],w=(0,i.useState)(!1),b=w[0],C=w[1],E=(0,i.useState)([]);E[0];var S=E[1],k=(0,i.useRef)(null),F=(0,i.useRef)(o);return(0,i.useEffect)((function(){h&&h(m)}),[m,h]),(0,i.useEffect)((function(){if(!b&&(o.x!==F.current.x||o.y!==F.current.y)){if(F.current=o,"replay"!==t)return g(o),void y(o);if(x.x===o.x&&x.y===o.y)return g(o),void y(o);var e=m,r=1===u?Math.floor(3*Math.random())+1:u,n=function(e,t,r,n){var i=[],o=Math.hypot(t.x-e.x,t.y-e.y);i.push(e);var s=Math.max(1,Math.min(3,r));if(1===s){var a={x:(e.x+t.x)/2,y:Math.min(e.y,t.y)-o*n};i.push(a,a)}else for(var l=1/(s+1),c=1;c<=s;c++){var u=c*l,d=c%2==1?-1:1,h=.5*Math.random()+.5,p=e.x+(t.x-e.x)*u,f=e.y+(t.y-e.y)*u,m=-(t.y-e.y),g=t.x-e.x,v=Math.hypot(m,g);a={x:p+m/v*o*n*d*h,y:f+g/v*o*n*d*h},i.push(a)}return i.push(t),i}(e,o,r,l);y(e);var i=function(e,t){for(var r=[],n=0;n<t;n++){var i=n/(t-1);if(4===e.length)r.push(qt(i,e[0],e[1],e[2],e[3]));else if(e.length>4){for(var o=Ot([],e,!0),s=o.length,a=1;a<s;a++)for(var l=0;l<s-a;l++)o[l]={x:(1-i)*o[l].x+i*o[l+1].x,y:(1-i)*o[l].y+i*o[l+1].y};r.push(o[0])}}return r}(n,60);S(i),C(!0);var s=null,a=Math.floor(250*Math.random())+750,c=function(e){s||(s=e);var t=e-s,r=Math.min(t/a,1),n=Math.min(Math.floor(r*(i.length-1)),i.length-1),o=i[n];g(o),r<1?k.current=requestAnimationFrame(c):(C(!1),d&&d())};return k.current=requestAnimationFrame(c),function(){null!==k.current&&cancelAnimationFrame(k.current)}}}),[o.x,o.y,t]),(0,i.useEffect)((function(){"step"===t&&(g(o),y(o),C(!1),F.current=o)}),[t,o]),r?(0,n.jsx)(se.x,{id:"mouse-overlay",ref:p,style:{transform:"translate(".concat(m.x,"px, ").concat(m.y,"px) scale(0.8)"),transition:b?void 0:"replay"===t?"transform 0.05s linear":void 0,zIndex:1e4,position:"absolute",pointerEvents:"none",userSelect:"none"},children:(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M 0,0 L 0,20 L 4.5,15.5 L 8.75,23 L 11,22 L 6.75,15 L 13.75,15 Z",fill:s||"black",stroke:"white",strokeWidth:"1.5",strokeLinejoin:"round"})})}):(0,n.jsx)(n.Fragment,{})};function Gt(e){var t=e.captionText,r=e.fontSizePx;return(0,n.jsx)(n.Fragment,{children:t&&(0,n.jsx)(se.x,{style:{width:"100%",color:"white",position:"absolute",bottom:65,zIndex:10001},children:(0,n.jsx)(ae.k,{justify:"center",align:"center",children:(0,n.jsx)(se.x,{style:{maxWidth:"80%",backgroundColor:"var(--black-a9)",padding:"4px 8px"},children:r?(0,n.jsx)(le.x,{style:{fontSize:1.5*r},children:t}):(0,n.jsx)(le.x,{size:"6",children:t})})})})})}var Kt=function(e,t,r){var n,i,o,s=Ge(e,r),a=t;t>=s.length&&(a=s.length-1),t<0&&(a=0);var l=s.slice(0,a+1),c=new kt(e,void 0,!1);c.applyActions(l);var u=c.getCourseSnapshot(),d=u.editorSnapshot.editors,h=(null==d?void 0:d.find((function(e){return e.isActive})))||(null==d?void 0:d[0])||{filename:"",content:"",caretPosition:At,highlightCoordinates:null,isActive:!1,isSaved:!1};return{editors:d,currentEditor:h,currentFilename:h.filename,fileExplorerSnapshot:u.fileExplorerSnapshot,currentCode:h?h.content:"",currentCaretPosition:c.virtualEditors&&c.virtualEditors.length>0&&(null===(n=c.virtualEditors[0])||void 0===n?void 0:n.virtualEditor.getCurrentCaretPosition())||At,currentTerminalBuffer:c.virtualTerminals.length>0&&(null===(i=c.virtualTerminals[0])||void 0===i?void 0:i.getBuffer().join("\n"))||"",captionText:(null===(o=null==u?void 0:u.authorSnapshot.authors[0])||void 0===o?void 0:o.currentSpeechCaption)||"",actions:s,mouseSnapshot:null==u?void 0:u.mouseSnapshot,isUnsavedChangesDialogOpen:u.isUnsavedChangesDialogOpen,unsavedFileName:u.unsavedFileName}};function Yt(){return(0,n.jsx)(se.x,{style:{zIndex:1e10,position:"absolute",pointerEvents:"none",userSelect:"none",backgroundColor:"var(--black-a9)",inset:0},children:(0,n.jsxs)(ae.k,{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},direction:"column",gap:"2",children:[(0,n.jsx)(se.x,{children:(0,n.jsxs)(le.x,{size:"9",children:["/>"," CodeVideo Software Tutorial"]})}),(0,n.jsx)(se.x,{children:(0,n.jsxs)(le.x,{size:"2",mb:"9",children:["Create your own at ",(0,n.jsx)(be.r,{href:"https://studio.codevideo.io",target:"_blank",children:"studio.codevideo.io"})]})}),(0,n.jsx)(se.x,{children:(0,n.jsxs)(le.x,{size:"6",children:["Press ",(0,n.jsx)(ke,{children:"Space"})," to playback"]})}),(0,n.jsx)(se.x,{children:(0,n.jsxs)(le.x,{size:"6",children:["Press the ",(0,n.jsx)(ke,{children:"◀"})," and ",(0,n.jsx)(ke,{children:"▶"})," arrow keys to move through the steps."]})})]})})}var Zt=function(e,t){if(!t)return Nt;if(!(null==t?void 0:t.current))return e;var r=t.current.getBoundingClientRect(),n=e.x-r.left,i=e.y-r.top;return console.log("Converted coordinates: ".concat(n,", ").concat(i)),{x:e.x-r.left,y:e.y-r.top}},Jt=function(e,t){if(!t)return Nt;var r=e.split(",");return 2==r.length?Zt({x:r[0]?parseInt(r[0]):0,y:r[1]?parseInt(r[1]):0},t):{x:0,y:0}},Qt=function(e,t){var r=Math.random(),n=Math.random();return Math.sqrt(-2*Math.log(r))*Math.cos(2*Math.PI*n)*t+e},er=function(e,t,r){if(void 0===r&&(r={randomize:!0,stdDevPercent:.15}),!t)return Nt;var n=document.querySelector('[data-codevideo-id="'.concat(e,'"]'));if(!n)return console.warn("Element with data-codevideo-id not found",e),Nt;var i=n.getBoundingClientRect(),o=i.left+i.width/2,s=i.top+i.height/2;if(!r.randomize)return console.log("Exact center of element found at: ".concat(o,", ").concat(s)),Zt({x:o,y:s},t);var a,l,c=i.width*r.stdDevPercent,u=i.height*r.stdDevPercent,d=Math.min(5,.1*i.width,.1*i.height),h=i.left+d,p=i.right-d,f=i.top+d,m=i.bottom-d;return a=Qt(o,c),l=Qt(s,u),a=Math.max(h,Math.min(p,a)),l=Math.max(f,Math.min(m,l)),console.log("Random point within element: ".concat(a,", ").concat(l)),Zt({x:a,y:l},t)},tr=function(e,t,r){return Lt(void 0,void 0,void 0,(function(){var n,i,o,s;return It(this,(function(a){switch(n={x:e.x,y:e.y},t.name){case"mouse-move-file-explorer":n=er("file-explorer",r);break;case"mouse-move-terminal":n=function(e){if(!e)return Nt;var t=document.querySelector('[data-codevideo-id="terminal"]');if(!t)return Nt;var r=t.getBoundingClientRect();return Zt({x:r.left+20,y:r.top+20},e)}(r);break;case"mouse-move-editor":n=function(e){if(!e)return Nt;var t=document.querySelector('[data-codevideo-id="editor"]');if(!t)return Nt;var r=t.getBoundingClientRect();return Zt({x:r.left+50,y:r.top+50},e)}(r);break;case"mouse-move-file-explorer-file":case"mouse-move-file-explorer-folder":n=function(e,t){if(!t)return Nt;console.log("fileOrFolderPath",e);var r=document.querySelector('[data-codevideo-id="file-explorer-'.concat(e,'"]'));if(!r)return Nt;var n=r.getBoundingClientRect();return Zt({x:n.left+n.width/2,y:n.top+n.height/2},t)}(t.value,r);break;case"mouse-move-to-coordinates-pixels":n=Jt(t.value,r);break;case"mouse-move-to-coordinates-percent":i=Jt(t.value,r),(o=null===(s=null==r?void 0:r.current)||void 0===s?void 0:s.getBoundingClientRect())&&(n={x:o.width*i.x,y:(null==o?void 0:o.height)*i.y});break;case"mouse-move-file-explorer-context-menu-new-file":n=er("file-explorer-context-menu-new-file",r);break;case"mouse-move-file-explorer-context-menu-new-folder":n=er("file-explorer-context-menu-new-folder",r);break;case"mouse-move-file-explorer-file-context-menu-rename":n=er("file-explorer-file-context-menu-rename",r);break;case"mouse-move-file-explorer-file-context-menu-delete":n=er("file-explorer-file-context-menu-delete",r);break;case"mouse-move-file-explorer-folder-context-menu-new-file":n=er("file-explorer-folder-context-menu-new-file",r);break;case"mouse-move-file-explorer-folder-context-menu-new-folder":n=er("file-explorer-folder-context-menu-new-folder",r);break;case"mouse-move-file-explorer-folder-context-menu-rename":n=er("file-explorer-folder-context-menu-rename",r);break;case"mouse-move-file-explorer-folder-context-menu-delete":n=er("file-explorer-folder-context-menu-delete",r);break;case"mouse-move-editor-tab":n=er("editor-tab-".concat(t.value),r);break;case"mouse-move-editor-tab-close":n=er("editor-tab-close-".concat(t.value),r);break;case"mouse-move-unsaved-changes-dialog-button-save":n=er("unsaved-changes-dialog-button-save",r);break;case"mouse-move-unsaved-changes-dialog-button-dont-save":n=er("unsaved-changes-dialog-button-dont-save",r);break;case"mouse-move-unsaved-changes-dialog-button-cancel":n=er("unsaved-changes-dialog-button-cancel",r)}return[2,n]}))}))};function rr(e){var t=e.isUnsavedChangesDialogOpen,r=e.unsavedFileName;return t?(0,n.jsx)(se.x,{style:{zIndex:9999,position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",backgroundColor:"var(--black-a7)"},children:(0,n.jsxs)(se.x,{style:{backgroundColor:"var(--gray-4)",borderRadius:"var(--radius-4)",boxShadow:"var(--shadow-5)",padding:"24px",maxWidth:"350px",width:"100%"},children:[(0,n.jsxs)(ae.k,{direction:"column",align:"center",justify:"center",children:[(0,n.jsx)(Ft.LPM,{height:"36",width:"36"}),(0,n.jsxs)(le.x,{size:"2",mt:"4",style:{textAlign:"center"},children:["Do you want to save the changes you made to ",(0,n.jsx)(Ne,{children:r}),"?"]}),(0,n.jsx)(le.x,{size:"1",mb:"4",style:{textAlign:"center"},children:"Your changes will be lost if you don't save them."})]}),(0,n.jsxs)(ae.k,{direction:"column",children:[(0,n.jsx)(He,{"data-codevideo-id":"unsaved-changes-dialog-button-save",color:"mint",style:{outline:"none"},children:"Save"}),(0,n.jsx)(He,{"data-codevideo-id":"unsaved-changes-dialog-button-dont-save",color:"gray",mt:"1",style:{outline:"none"},children:"Don't Save"}),(0,n.jsx)(He,{"data-codevideo-id":"unsaved-changes-dialog-button-cancel",color:"gray",mt:"4",style:{outline:"none"},children:"Cancel"})]})]})}):(0,n.jsx)(n.Fragment,{})}function nr(e){var t=this,r=e.theme,o=e.project,s=e.mode,a=e.allowFocusInEditor,l=e.defaultLanguage,c=e.isExternalBrowserStepUrl,u=e.currentActionIndex,d=e.currentLessonIndex,h=e.isSoundOn,p=e.withCaptions,f=e.actionFinishedCallback,m=e.playBackCompleteCallback,g=e.speakActionAudios,v=e.fileExplorerWidth,x=e.terminalHeight,y=e.mouseColor,w=e.fontSizePx,b=e.monacoLoadedCallback,C=e.isEmbedMode,E=e.requestStepModeCallback,S=e.requestNextActionCallback,k=e.requestPreviousActionCallback,F=e.requestPlaybackStartCallback,R="record"===s,P=(0,i.useState)(),j=P[0],A=P[1],N=(0,i.useState)(),L=N[0],I=N[1],O=(0,i.useState)(),M=O[0],D=O[1],T=(0,i.useState)(),V=T[0],$=T[1],H=(0,i.useState)(""),B=H[0],z=H[1],W=(0,i.useState)(""),_=W[0],U=W[1],q=(0,i.useState)(Nt),X=q[0],G=q[1],K=(0,i.useState)(Nt),Y=K[0],Z=K[1],J=(0,i.useState)(At),Q=J[0],ee=J[1],te=(0,i.useState)(""),re=te[0],ne=te[1],ie=(0,i.useState)(l),le=ie[0],ce=ie[1],ue=(0,i.useState)(C||!1),de=ue[0],he=ue[1],pe=(0,i.useState)(!1),fe=pe[0],me=pe[1],ge=(0,i.useState)(!1),ve=ge[0],xe=ge[1],ye=(0,i.useState)(!1),we=ye[0],be=ye[1],Ce=(0,i.useState)(!1),Ee=Ce[0],Se=Ce[1],ke=(0,i.useState)(!1),Fe=ke[0],Re=ke[1],Pe=(0,i.useState)(""),je=Pe[0],Ae=Pe[1],Ne=(0,i.useState)(""),Le=Ne[0],Ie=Ne[1],Oe=(0,i.useState)(""),Me=Oe[0],De=Oe[1],Te=(0,i.useState)(""),Ve=Te[0],$e=Te[1],He=(0,i.useState)(""),Be=He[0],ze=He[1],We=(0,i.useState)(""),_e=We[0],Ue=We[1],qe=(0,i.useState)(""),Xe=qe[0],Ke=qe[1],Ye=(0,i.useState)(""),Ze=Ye[0],Je=Ye[1],Qe=(0,i.useState)(""),et=Qe[0],tt=Qe[1],rt=(0,i.useState)(""),nt=rt[0],it=rt[1],ot=(0,i.useState)("");ot[0];var st=ot[1],at=(0,i.useState)(!1),lt=at[0],ct=at[1],ut=(0,i.useState)(""),dt=ut[0],ht=ut[1],pt=(0,i.useRef)(null),ft=(0,i.useRef)(void 0),mt=(0,i.useRef)(void 0),gt=function(){var e=Kt(o,u,d),t=e.editors,r=e.currentEditor,n=e.currentFilename,i=e.fileExplorerSnapshot,a=e.currentCode,l=e.currentCaretPosition,c=e.currentTerminalBuffer,h=e.captionText,p=e.actions,f=e.mouseSnapshot,m=e.isUnsavedChangesDialogOpen,g=e.unsavedFileName;A(t),I(r),D(n),$(i.fileStructure),z(a),ee(l),U(c),ne(h),me(i.isFileExplorerContextMenuOpen),xe(i.isFileContextMenuOpen),be(i.isFolderContextMenuOpen),Se(i.isNewFileInputVisible),Re(i.isNewFolderInputVisible),De(i.originalFileBeingRenamed),$e(i.originalFolderBeingRenamed),Ke(f.currentHoveredFileName),Je(f.currentHoveredFolderName),tt(i.newFileParentPath),it(i.newFolderParentPath),st(f.currentHoveredEditorTabFileName),ct(m),ht(g),"replay"!==s&&vt(p)},vt=function(e){return Lt(t,void 0,void 0,(function(){var t,r,n;return It(this,(function(i){switch(i.label){case 0:return 0===u&&"step"===s?(null==pt?void 0:pt.current)?(t=pt.current.getBoundingClientRect(),G({x:t.width/2,y:t.height/2}),[2]):[2]:(r=u>=0&&u<e.length?e[u]:null)?[4,tr(X,r,pt)]:[2];case 1:return n=i.sent(),console.log("Action: ".concat(r.name,", New position: x=").concat(n.x,", y=").concat(n.y)),G(n),[2]}}))}))};(0,i.useEffect)((function(){var e,t=Ge(o,d),r=u>=0&&u<t.length?t[u]:null;if(h&&"step"===s&&r&&r.name.startsWith("author-")){var n=r,i=null===(e=g.find((function(e){return e.text===n.value})))||void 0===e?void 0:e.mp3Url;Vt(r.value,1,i)}else $t()}),[h,o,u,d]),(0,i.useEffect)((function(){"step"!==s?"replay"===s&&(0===u&&gt(),Lt(t,void 0,void 0,(function(){var e,t;return It(this,(function(r){switch(r.label){case 0:return e=Ge(o,d),(t=u>=0&&u<e.length?e[u]:null)?ft.current?[4,sr(ft.current,o,u,d,t,h,A,I,D,ee,U,X,pt,G,ne,g,Ae,Ie,ze,Ue)]:[3,2]:(m&&m(),[2]);case 1:r.sent(),r.label=2;case 2:return gt(),f&&f(),[2]}}))}))):gt()}),[s,u,o]);return(0,i.useEffect)((function(){ft.current&&"step"===s&&(ft.current.setPosition({lineNumber:Q.row,column:Q.col}),ft.current.revealPositionInCenter({lineNumber:Q.row,column:Q.col}),a&&ft.current.focus())}),[Q,a]),(0,i.useEffect)((function(){ft.current&&ft.current.revealLineInCenter(Q.row)}),[Q.row]),(0,i.useEffect)((function(){if(M){var e=function(e){var t;if(!e)return"plaintext";var r=null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase(),n={js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",html:"html",css:"css",json:"json",md:"markdown",php:"php",java:"java",c:"c",cpp:"cpp",cs:"csharp",go:"go",rb:"ruby",rs:"rust",sh:"shell",sql:"sql",yaml:"yaml",yml:"yaml"};return r&&r in n?n[r]:"plaintext"}(M);if(ce(e),ft.current&&mt.current){var t=ft.current.getModel();t&&mt.current.editor.setModelLanguage(t,e)}}}),[M]),(0,i.useEffect)((function(){if(C){var e=function(e){"ArrowRight"===e.key?(he(!1),E&&E("step"),S&&S()):"ArrowLeft"===e.key?(he(!1),E&&E("step"),k&&k()):" "===e.key&&(he(!1),F&&F())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}}),[C]),(0,n.jsxs)(ae.k,{direction:"column",style:{height:"100%",width:"100%",fontSize:w?"".concat(w,"px"):void 0,position:"relative"},id:Rt,children:[(0,n.jsx)(ae.k,{direction:"row",style:{height:"100%",overflow:"hidden",position:"relative"},ref:pt,children:null!==c?(0,n.jsx)(ae.k,{direction:"row",style:{height:"100%",width:"100%",borderRadius:"var(--radius-3)",position:"relative"},ref:pt,children:(0,n.jsx)(Dt,{url:c})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_t,{theme:r,currentFileName:M,fileStructure:V,fileExplorerWidth:v,currentMousePosition:Y,isFileExplorerContextMenuVisible:fe,isFileContextMenuVisible:ve,isFolderContextMenuVisible:we,isNewFileInputVisible:Ee,isNewFolderInputVisible:Fe,newFileInputValue:je,newFolderInputValue:Le,originalFileBeingRenamed:Me,originalFolderBeingRenamed:Ve,renameFileInputValue:Be,renameFolderInputValue:_e,currentHoveredFileName:Xe,currentHoveredFolderName:Ze,newFileParentPath:et,newFolderParentPath:nt}),(0,n.jsxs)(ae.k,{direction:"column",width:"100%",children:[(0,n.jsx)(Mt,{theme:r,editors:j||[]}),(0,n.jsxs)(se.x,{"data-codevideo-id":"editor",style:{flex:1,position:"relative",userSelect:R?"auto":"none"},children:[(0,n.jsx)(se.x,{style:{display:j&&0===j.length?"block":"none",backgroundColor:"light"===r?"var(--gray-5)":"var(--gray-4)",height:"100%",width:"100%"}}),(0,n.jsx)(se.x,{style:{display:j&&0===j.length?"none":"block",backgroundColor:"light"===r?"var(--gray-5)":"var(--gray-4)",height:"100%",width:"100%",pointerEvents:R?"auto":"none",cursor:R?"auto":"none",userSelect:R?"auto":"none"},children:(0,n.jsx)(oe,{path:null==L?void 0:L.filename,theme:"light"===r?"vs":"vs-dark",className:"no-mouse ".concat(j&&0===j.length?"display-none":"display-block"),value:R||"replay"===s?void 0:B,defaultValue:R?B:void 0,defaultLanguage:l,options:{automaticLayout:!0,minimap:{enabled:!0},scrollBeyondLastLine:!0,fontSize:w||14,fontFamily:"Fira Code, monospace",fontLigatures:!0,readOnly:"step"===s,lineNumbers:"on",renderWhitespace:"selection",wrappingStrategy:"advanced",wordWrap:"on",wordWrapColumn:80,bracketPairColorization:{enabled:!0},matchBrackets:"never",formatOnPaste:!0,formatOnType:!0},onMount:function(e,t){ft.current=e,mt.current=t;var r=t.editor.createModel(B,le);e.setModel(r),b&&b()}})})]}),(0,n.jsx)(Ut,{theme:r,terminalBuffer:_,terminalHeight:x})]})]})}),(0,n.jsx)(rr,{isUnsavedChangesDialogOpen:lt,unsavedFileName:dt}),!de&&(0,n.jsx)(Xt,{mode:s,mouseVisible:!0,targetMousePosition:X,onCurrentPositionChange:Z,onAnimationFinished:function(){},mouseColor:y}),!de&&p&&(0,n.jsx)(Gt,{captionText:re,fontSizePx:w}),de&&(0,n.jsx)(Yt,{})]})}var ir=function(e,t){return Lt(void 0,void 0,void 0,(function(){var r,n;return It(this,(function(i){switch(i.label){case 0:r=t.split(""),n=0,i.label=1;case 1:return n<r.length?(e((function(e){return e+r[n]})),[4,Tt(jt)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},or=function(e,t){return new Promise((function(r){var n=t.split(""),i=0;!function t(){if(i<n.length){var o=n[i],s=e.getSelection();e.executeEdits("simulateTyping",[{range:{startLineNumber:(null==s?void 0:s.selectionStartLineNumber)||1,startColumn:(null==s?void 0:s.selectionStartColumn)||1,endLineNumber:(null==s?void 0:s.endLineNumber)||1,endColumn:(null==s?void 0:s.endColumn)||1},text:o||"",forceMoveMarkers:!0}]),e.focus(),i++,setTimeout(t,jt)}else r()}()}))},sr=function(e,t,r,n,i,o,s,a,l,c,u,d,h,p,f,m,g,v,x,y){return Lt(void 0,void 0,void 0,(function(){var w,b,C,E,S,k,F,R,P,j,A,N;return It(this,(function(L){switch(L.label){case 0:return w=-1,"file-explorer-open-file"===i.name?[3,1]:[3,3];case 1:return console.log("SET CURRENT FILE to ",i.value),b=Kt(t,r,n),C=b.editors,E=b.currentEditor,S=b.currentFilename,k=b.currentCaretPosition,s(C),a(E),l(S),[4,Tt(Pt)];case 2:return L.sent(),c(k),[3,3];case 3:return[4,Tt(Pt)];case 4:return L.sent(),[4,tr(d,i,h)];case 5:F=L.sent(),p(F),R=parseInt(i.value)||1,P=e.getPosition(),j=function(t){var r,n,s,a,l,c;return It(this,(function(t){switch(t.label){case 0:switch(!0,!0){case i.name.startsWith("external-"):return[3,1];case i.name.startsWith("author-"):return[3,3];case"file-explorer-type-new-file-input"===i.name:return[3,5];case"file-explorer-enter-new-file-input"===i.name:return[3,6];case"file-explorer-type-new-folder-input"===i.name:return[3,7];case"file-explorer-enter-new-folder-input"===i.name:return[3,8];case"file-explorer-type-rename-file-input"===i.name:return[3,9];case"file-explorer-enter-rename-file-input"===i.name:return[3,10];case"file-explorer-type-rename-folder-input"===i.name:return[3,11];case"file-explorer-enter-rename-folder-input"===i.name:return[3,12];case"terminal-type"===i.name:return[3,13];case"editor-arrow-down"===i.name&&null!==P:return[3,18];case"editor-arrow-up"===i.name&&null!==P:return[3,20];case"editor-tab"===i.name&&null!==P:return[3,22];case"editor-arrow-left"===i.name&&null!==P:return[3,24];case"editor-arrow-right"===i.name&&null!==P:return[3,26];case"editor-enter"===i.name:return[3,28];case"editor-command-right"===i.name&&null!==P:return[3,30];case"editor-space"===i.name:return[3,32];case"editor-backspace"===i.name:return[3,34];case"editor-type"===i.name:return[3,36]}return[3,38];case 1:return[4,Tt(5e3)];case 2:return t.sent(),[3,40];case 3:return f(i.value),r=null===(N=m.find((function(e){return e.text===i.value})))||void 0===N?void 0:N.mp3Url,[4,Vt(i.value,o?1:0,r)];case 4:return t.sent(),[3,40];case 5:return ir(g,i.value),[3,40];case 6:return g(""),[3,40];case 7:return ir(v,i.value),[3,40];case 8:return v(""),[3,40];case 9:return ir(x,i.value),[3,40];case 10:return x(""),[3,40];case 11:return ir(y,i.value),[3,40];case 12:return y(""),[3,40];case 13:if(n=i.value,s=n.split("\n"),!(a=s[s.length-1]))return[3,17];l=function(e){return It(this,(function(t){switch(t.label){case 0:return u((function(t){return t+a[e]})),[4,Tt(100)];case 1:return t.sent(),[2]}}))},c=0,t.label=14;case 14:return c<a.length?[5,l(c)]:[3,17];case 15:t.sent(),t.label=16;case 16:return c++,[3,14];case 17:return[3,40];case 18:return P.lineNumber=P.lineNumber+1,e.setPosition(P),[4,Tt(jt)];case 19:return t.sent(),[3,40];case 20:return P.lineNumber=P.lineNumber-1,e.setPosition(P),[4,Tt(jt)];case 21:return t.sent(),[3,40];case 22:return P.lineNumber=P.lineNumber+2,e.setPosition(P),[4,Tt(jt)];case 23:return t.sent(),[3,40];case 24:return P.column=P.column-1,e.setPosition(P),[4,Tt(jt)];case 25:return t.sent(),[3,40];case 26:return P.column=P.column+1,e.setPosition(P),[4,Tt(jt)];case 27:return t.sent(),[3,40];case 28:return[4,or(e,"\n")];case 29:return t.sent(),[3,40];case 30:return P.column=1e5,e.setPosition(P),[4,Tt(jt)];case 31:return t.sent(),[3,40];case 32:return[4,or(e," ")];case 33:return t.sent(),[3,40];case 34:return"undefined"!=typeof window&&e.trigger(1,"deleteLeft"),[4,Tt(jt)];case 35:return t.sent(),[3,40];case 36:return[4,or(e,i.value)];case 37:return t.sent(),[3,40];case 38:return[4,Tt(Pt)];case 39:return t.sent(),console.warn("Unable to apply action",JSON.stringify(i)),[3,40];case 40:return[2]}}))},A=0,L.label=6;case 6:return A<R?[5,j(A)]:[3,9];case 7:L.sent(),L.label=8;case 8:return A++,[3,6];case 9:return[2,w]}}))}))}},8771:function(e,t,r){"use strict";r.d(t,{F:function(){return o},e:function(){return s}});var n=r(7294);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function o(...e){return t=>{let r=!1;const n=e.map((e=>{const n=i(e,t);return r||"function"!=typeof n||(r=!0),n}));if(r)return()=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r():i(e[t],null)}}}}function s(...e){return n.useCallback(o(...e),e)}},5320:function(e,t,r){"use strict";r.d(t,{WV:function(){return a},jH:function(){return l}});var n=r(7294),i=r(3935),o=r(8426),s=r(5893),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=n.forwardRef(((e,r)=>{const{asChild:n,...i}=e,a=n?o.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(a,{...i,ref:r})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});function l(e,t){e&&i.flushSync((()=>e.dispatchEvent(t)))}},8426:function(e,t,r){"use strict";r.d(t,{A4:function(){return l},fC:function(){return u},g7:function(){return s}});var n=r(7294),i=r(8771),o=r(5893),s=n.forwardRef(((e,t)=>{const{children:r,...i}=e,s=n.Children.toArray(r),l=s.find(c);if(l){const e=l.props.children,r=s.map((t=>t===l?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t));return(0,o.jsx)(a,{...i,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,o.jsx)(a,{...i,ref:t,children:r})}));s.displayName="Slot";var a=n.forwardRef(((e,t)=>{const{children:r,...o}=e;if(n.isValidElement(r)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;if(r)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(r),s=function(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(o,r.props);return r.type!==n.Fragment&&(s.ref=t?(0,i.F)(t,e):e),n.cloneElement(r,s)}return n.Children.count(r)>1?n.Children.only(null):null}));a.displayName="SlotClone";var l=({children:e})=>(0,o.jsx)(o.Fragment,{children:e});function c(e){return n.isValidElement(e)&&e.type===l}var u=s},6219:function(e,t,r){"use strict";r.d(t,{f:function(){return a}});var n=r(7294),i=r(5320),o=r(5893),s=n.forwardRef(((e,t)=>(0,o.jsx)(i.WV.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));s.displayName="VisuallyHidden";var a=s},5564:function(e,t,r){"use strict";r.d(t,{x:function(){return u}});var n=r(7294),i=r(3967),o=r(8903);const s={as:{type:"enum",values:["div","span"],default:"div"},...r(407).C,display:{type:"enum",className:"rt-r-display",values:["none","inline","inline-block","block","contents"],responsive:!0}};var a=r(3928),l=r(326),c=r(5638);const u=n.forwardRef(((e,t)=>{const{className:r,asChild:u,as:d="div",...h}=(0,a.y)(e,s,l.P,c.E);return n.createElement(u?o.g7:d,{...h,ref:t,className:i("rt-Box",r)})}));u.displayName="Box"},4144:function(e,t,r){"use strict";r.d(t,{k:function(){return u}});var n=r(7294),i=r(3967),o=r(3928),s=r(326),a=r(5638),l=r(8903),c=r(4177);const u=n.forwardRef(((e,t)=>{const{className:r,asChild:u,as:d="div",...h}=(0,o.y)(e,c.l,s.P,a.E);return n.createElement(u?l.g7:d,{...h,ref:t,className:i("rt-Flex",r)})}));u.displayName="Flex"},4177:function(e,t,r){"use strict";r.d(t,{l:function(){return o}});const n=["0","1","2","3","4","5","6","7","8","9"],i={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:n,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:n,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:n,responsive:!0}},o={as:{type:"enum",values:["div","span"],default:"div"},...r(407).C,display:{type:"enum",className:"rt-r-display",values:["none","inline-flex","flex"],responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:["row","column","row-reverse","column-reverse"],responsive:!0},align:{type:"enum",className:"rt-r-ai",values:["start","center","end","baseline","stretch"],responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:["start","center","end","between"],parseValue:function(e){return"between"===e?"space-between":e},responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:["nowrap","wrap","wrap-reverse"],responsive:!0},...i}},9674:function(e,t,r){"use strict";r.d(t,{r:function(){return m}});var n=r(7294),i=r(3967),o=r(2396),s=r(3928),a=r(407),l=r(582),c=r(8584),u=r(4065),d=r(2482),h=r(9279),p=r(6937);const f={...a.C,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5","6","7","8","9"],responsive:!0},...p.x,...u.E,...h.w,...d.u,underline:{type:"enum",className:"rt-underline",values:["auto","always","hover","none"],default:"auto"},...l.o3,...c.K},m=n.forwardRef(((e,t)=>{const{children:r,className:a,color:l,asChild:c,...u}=(0,s.y)(e,f);return n.createElement(o.x,{...u,"data-accent-color":l,ref:t,asChild:!0,className:i("rt-reset","rt-Link",a)},c?r:n.createElement("a",null,r))}));m.displayName="Link"},8903:function(e,t,r){"use strict";r.d(t,{g7:function(){return i}});var n=r(8426);n.fC;const i=n.fC;n.A4},2396:function(e,t,r){"use strict";r.d(t,{x:function(){return v}});var n=r(7294),i=r(3967),o=r(8426),s=r(3928),a=r(5638),l=r(407),c=r(582),u=r(8584),d=r(4065),h=r(3051),p=r(2482),f=r(9279),m=r(6937);const g={as:{type:"enum",values:["span","div","label","p"],default:"span"},...l.C,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5","6","7","8","9"],responsive:!0},...m.x,...h.O,...d.E,...f.w,...p.u,...c.EG,...u.K},v=n.forwardRef(((e,t)=>{const{children:r,className:l,asChild:c,as:u="span",color:d,...h}=(0,s.y)(e,g,a.E);return n.createElement(o.fC,{"data-accent-color":d,...h,ref:t,className:i("rt-Text",l)},c?r:n.createElement(u,null,r))}));v.displayName="Text"},1051:function(e,t,r){"use strict";r.d(t,{Q2:function(){return dr}});var n=r(7294),i=r.t(n,2),o=r(3967);function s(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}var a=r(8771),l=r(5893);function c(e,t=[]){let r=[];const i=()=>{const t=r.map((e=>n.createContext(e)));return function(r){const i=r?.[e]||t;return n.useMemo((()=>({[`__scope${e}`]:{...r,[e]:i}})),[r,i])}};return i.scopeName=e,[function(t,i){const o=n.createContext(i),s=r.length;r=[...r,i];const a=t=>{const{scope:r,children:i,...a}=t,c=r?.[e]?.[s]||o,u=n.useMemo((()=>a),Object.values(a));return(0,l.jsx)(c.Provider,{value:u,children:i})};return a.displayName=t+"Provider",[a,function(r,a){const l=a?.[e]?.[s]||o,c=n.useContext(l);if(c)return c;if(void 0!==i)return i;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},u(i,...t)]}function u(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const i=r.reduce(((t,{useScope:r,scopeName:n})=>({...t,...r(e)[`__scope${n}`]})),{});return n.useMemo((()=>({[`__scope${t.scopeName}`]:i})),[i])}};return r.scopeName=t.scopeName,r}var d=r(5320);function h(e){const t=n.useRef(e);return n.useEffect((()=>{t.current=e})),n.useMemo((()=>(...e)=>t.current?.(...e)),[])}var p,f="dismissableLayer.update",m="dismissableLayer.pointerDownOutside",g="dismissableLayer.focusOutside",v=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),x=n.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:x,...y}=e,C=n.useContext(v),[E,S]=n.useState(null),k=E?.ownerDocument??globalThis?.document,[,F]=n.useState({}),R=(0,a.e)(t,(e=>S(e))),P=Array.from(C.layers),[j]=[...C.layersWithOutsidePointerEventsDisabled].slice(-1),A=P.indexOf(j),N=E?P.indexOf(E):-1,L=C.layersWithOutsidePointerEventsDisabled.size>0,I=N>=A,O=function(e,t=globalThis?.document){const r=h(e),i=n.useRef(!1),o=n.useRef((()=>{}));return n.useEffect((()=>{const e=e=>{if(e.target&&!i.current){let n=function(){b(m,r,i,{discrete:!0})};const i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",o.current),o.current=n,t.addEventListener("click",o.current,{once:!0})):n()}else t.removeEventListener("click",o.current);i.current=!1},n=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",o.current)}}),[t,r]),{onPointerDownCapture:()=>i.current=!0}}((e=>{const t=e.target,r=[...C.branches].some((e=>e.contains(t)));I&&!r&&(o?.(e),u?.(e),e.defaultPrevented||x?.())}),k),M=function(e,t=globalThis?.document){const r=h(e),i=n.useRef(!1);return n.useEffect((()=>{const e=e=>{if(e.target&&!i.current){b(g,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}((e=>{const t=e.target;[...C.branches].some((e=>e.contains(t)))||(c?.(e),u?.(e),e.defaultPrevented||x?.())}),k);return function(e,t=globalThis?.document){const r=h(e);n.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[r,t])}((e=>{N===C.layers.size-1&&(i?.(e),!e.defaultPrevented&&x&&(e.preventDefault(),x()))}),k),n.useEffect((()=>{if(E)return r&&(0===C.layersWithOutsidePointerEventsDisabled.size&&(p=k.body.style.pointerEvents,k.body.style.pointerEvents="none"),C.layersWithOutsidePointerEventsDisabled.add(E)),C.layers.add(E),w(),()=>{r&&1===C.layersWithOutsidePointerEventsDisabled.size&&(k.body.style.pointerEvents=p)}}),[E,k,r,C]),n.useEffect((()=>()=>{E&&(C.layers.delete(E),C.layersWithOutsidePointerEventsDisabled.delete(E),w())}),[E,C]),n.useEffect((()=>{const e=()=>F({});return document.addEventListener(f,e),()=>document.removeEventListener(f,e)}),[]),(0,l.jsx)(d.WV.div,{...y,ref:R,style:{pointerEvents:L?I?"auto":"none":void 0,...e.style},onFocusCapture:s(e.onFocusCapture,M.onFocusCapture),onBlurCapture:s(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:s(e.onPointerDownCapture,O.onPointerDownCapture)})}));x.displayName="DismissableLayer";var y=n.forwardRef(((e,t)=>{const r=n.useContext(v),i=n.useRef(null),o=(0,a.e)(t,i);return n.useEffect((()=>{const e=i.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),(0,l.jsx)(d.WV.div,{...e,ref:o})}));function w(){const e=new CustomEvent(f);document.dispatchEvent(e)}function b(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,d.jH)(i,o):i.dispatchEvent(o)}y.displayName="DismissableLayerBranch";var C=Boolean(globalThis?.document)?n.useLayoutEffect:()=>{},E=i["useId".toString()]||(()=>{}),S=0;const k=["top","right","bottom","left"],F=Math.min,R=Math.max,P=Math.round,j=Math.floor,A=e=>({x:e,y:e}),N={left:"right",right:"left",bottom:"top",top:"bottom"},L={start:"end",end:"start"};function I(e,t,r){return R(e,F(t,r))}function O(e,t){return"function"==typeof e?e(t):e}function M(e){return e.split("-")[0]}function D(e){return e.split("-")[1]}function T(e){return"x"===e?"y":"x"}function V(e){return"y"===e?"height":"width"}function $(e){return["top","bottom"].includes(M(e))?"y":"x"}function H(e){return T($(e))}function B(e){return e.replace(/start|end/g,(e=>L[e]))}function z(e){return e.replace(/left|right|bottom|top/g,(e=>N[e]))}function W(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function _(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function U(e,t,r){let{reference:n,floating:i}=e;const o=$(t),s=H(t),a=V(s),l=M(t),c="y"===o,u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,h=n[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-i.width,y:d};break;default:p={x:n.x,y:n.y}}switch(D(t)){case"start":p[s]-=h*(r&&c?-1:1);break;case"end":p[s]+=h*(r&&c?-1:1)}return p}async function q(e,t){var r;void 0===t&&(t={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=O(t,e),f=W(p),m=a[h?"floating"===d?"reference":"floating":d],g=_(await o.getClippingRect({element:null==(r=await(null==o.isElement?void 0:o.isElement(m)))||r?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),y=await(null==o.isElement?void 0:o.isElement(x))&&await(null==o.getScale?void 0:o.getScale(x))||{x:1,y:1},w=_(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-w.top+f.top)/y.y,bottom:(w.bottom-g.bottom+f.bottom)/y.y,left:(g.left-w.left+f.left)/y.x,right:(w.right-g.right+f.right)/y.x}}function X(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function G(e){return k.some((t=>e[t]>=0))}function K(){return"undefined"!=typeof window}function Y(e){return Q(e)?(e.nodeName||"").toLowerCase():"#document"}function Z(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function J(e){var t;return null==(t=(Q(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Q(e){return!!K()&&(e instanceof Node||e instanceof Z(e).Node)}function ee(e){return!!K()&&(e instanceof Element||e instanceof Z(e).Element)}function te(e){return!!K()&&(e instanceof HTMLElement||e instanceof Z(e).HTMLElement)}function re(e){return!(!K()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Z(e).ShadowRoot)}function ne(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=ce(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function ie(e){return["table","td","th"].includes(Y(e))}function oe(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(r){return!1}}))}function se(e){const t=ae(),r=ee(e)?ce(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!r[e]&&"none"!==r[e]))||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(r.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(r.contain||"").includes(e)))}function ae(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function le(e){return["html","body","#document"].includes(Y(e))}function ce(e){return Z(e).getComputedStyle(e)}function ue(e){return ee(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function de(e){if("html"===Y(e))return e;const t=e.assignedSlot||e.parentNode||re(e)&&e.host||J(e);return re(t)?t.host:t}function he(e){const t=de(e);return le(t)?e.ownerDocument?e.ownerDocument.body:e.body:te(t)&&ne(t)?t:he(t)}function pe(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const i=he(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),s=Z(i);if(o){const e=fe(s);return t.concat(s,s.visualViewport||[],ne(i)?i:[],e&&r?pe(e):[])}return t.concat(i,pe(i,[],r))}function fe(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function me(e){const t=ce(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=te(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,a=P(r)!==o||P(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function ge(e){return ee(e)?e:e.contextElement}function ve(e){const t=ge(e);if(!te(t))return A(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=me(t);let s=(o?P(r.width):r.width)/n,a=(o?P(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const xe=A(0);function ye(e){const t=Z(e);return ae()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:xe}function we(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const i=e.getBoundingClientRect(),o=ge(e);let s=A(1);t&&(n?ee(n)&&(s=ve(n)):s=ve(e));const a=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==Z(e))&&t}(o,r,n)?ye(o):A(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const e=Z(o),t=n&&ee(n)?Z(n):n;let r=e,i=fe(r);for(;i&&n&&t!==r;){const e=ve(i),t=i.getBoundingClientRect(),n=ce(i),o=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=s,r=Z(i),i=fe(r)}}return _({width:u,height:d,x:l,y:c})}function be(e,t){const r=ue(e).scrollLeft;return t?t.left+r:we(J(e)).left+r}function Ce(e,t,r){void 0===r&&(r=!1);const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:be(e,n)),y:n.top+t.scrollTop}}function Ee(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=Z(e),n=J(e),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const e=ae();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}(e,r);else if("document"===t)n=function(e){const t=J(e),r=ue(e),n=e.ownerDocument.body,i=R(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=R(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+be(e);const a=-r.scrollTop;return"rtl"===ce(n).direction&&(s+=R(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}(J(e));else if(ee(t))n=function(e,t){const r=we(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=te(e)?ve(e):A(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:n*o.y}}(t,r);else{const r=ye(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return _(n)}function Se(e,t){const r=de(e);return!(r===t||!ee(r)||le(r))&&("fixed"===ce(r).position||Se(r,t))}function ke(e,t,r){const n=te(t),i=J(t),o="fixed"===r,s=we(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=A(0);if(n||!n&&!o)if(("body"!==Y(t)||ne(i))&&(a=ue(t)),n){const e=we(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=be(i));const c=!i||n||o?A(0):Ce(i,a);return{x:s.left+a.scrollLeft-l.x-c.x,y:s.top+a.scrollTop-l.y-c.y,width:s.width,height:s.height}}function Fe(e){return"static"===ce(e).position}function Re(e,t){if(!te(e)||"fixed"===ce(e).position)return null;if(t)return t(e);let r=e.offsetParent;return J(e)===r&&(r=r.ownerDocument.body),r}function Pe(e,t){const r=Z(e);if(oe(e))return r;if(!te(e)){let t=de(e);for(;t&&!le(t);){if(ee(t)&&!Fe(t))return t;t=de(t)}return r}let n=Re(e,t);for(;n&&ie(n)&&Fe(n);)n=Re(n,t);return n&&le(n)&&Fe(n)&&!se(n)?r:n||function(e){let t=de(e);for(;te(t)&&!le(t);){if(se(t))return t;if(oe(t))return null;t=de(t)}return null}(e)||r}const je={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o="fixed"===i,s=J(n),a=!!t&&oe(t.floating);if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=A(1);const u=A(0),d=te(n);if((d||!d&&!o)&&(("body"!==Y(n)||ne(s))&&(l=ue(n)),te(n))){const e=we(n);c=ve(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}const h=!s||d||o?A(0):Ce(s,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:r.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:J,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[..."clippingAncestors"===r?oe(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=pe(e,[],!1).filter((e=>ee(e)&&"body"!==Y(e))),i=null;const o="fixed"===ce(e).position;let s=o?de(e):e;for(;ee(s)&&!le(s);){const t=ce(s),r=se(s);r||"fixed"!==t.position||(i=null),(o?!r&&!i:!r&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||ne(s)&&!r&&Se(e,s))?n=n.filter((e=>e!==s)):i=t,s=de(s)}return t.set(e,n),n}(t,this._c):[].concat(r),n],s=o[0],a=o.reduce(((e,r)=>{const n=Ee(t,r,i);return e.top=R(n.top,e.top),e.right=F(n.right,e.right),e.bottom=F(n.bottom,e.bottom),e.left=R(n.left,e.left),e}),Ee(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Pe,getElementRects:async function(e){const t=this.getOffsetParent||Pe,r=this.getDimensions,n=await r(e.floating);return{reference:ke(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=me(e);return{width:t,height:r}},getScale:ve,isElement:ee,isRTL:function(e){return"rtl"===ce(e).direction}};function Ae(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ne(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=ge(e),u=i||o?[...c?pe(c):[],...pe(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",r,{passive:!0}),o&&e.addEventListener("resize",r)}));const d=c&&a?function(e,t){let r,n=null;const i=J(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(a||t(),!h||!p)return;const f={rootMargin:-j(d)+"px "+-j(i.clientWidth-(u+h))+"px "+-j(i.clientHeight-(d+p))+"px "+-j(u)+"px",threshold:R(0,F(1,l))||1};let m=!0;function g(t){const n=t[0].intersectionRatio;if(n!==l){if(!m)return s();n?s(!1,n):r=setTimeout((()=>{s(!1,1e-7)}),1e3)}1!==n||Ae(c,e.getBoundingClientRect())||s(),m=!1}try{n=new IntersectionObserver(g,{...f,root:i.ownerDocument})}catch(v){n=new IntersectionObserver(g,f)}n.observe(e)}(!0),o}(c,r):null;let h,p=-1,f=null;s&&(f=new ResizeObserver((e=>{let[n]=e;n&&n.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),r()})),c&&!l&&f.observe(c),f.observe(t));let m=l?we(e):null;return l&&function t(){const n=we(e);m&&!Ae(m,n)&&r();m=n,h=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",r),o&&e.removeEventListener("resize",r)})),null==d||d(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const Le=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:r,platform:n,elements:i}=e,o=await(null==n.isRTL?void 0:n.isRTL(i.floating)),s=M(r),a=D(r),l="y"===$(r),c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=O(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof f&&(p="end"===a?-1*f:f),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}(t,e);return s===(null==(r=a.offset)?void 0:r.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Ie=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=O(e,t),c={x:r,y:n},u=await q(t,l),d=$(M(i)),h=T(d);let p=c[h],f=c[d];if(o){const e="y"===h?"bottom":"right";p=I(p+u["y"===h?"top":"left"],p,p-u[e])}if(s){const e="y"===d?"bottom":"right";f=I(f+u["y"===d?"top":"left"],f,f-u[e])}const m=a.fn({...t,[h]:p,[d]:f});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:o,[d]:s}}}}}},Oe=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...g}=O(e,t);if(null!=(r=o.arrow)&&r.alignmentOffset)return{};const v=M(i),x=$(a),y=M(a)===a,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),b=h||(y||!m?[z(a)]:function(e){const t=z(e);return[B(e),t,B(t)]}(a)),C="none"!==f;!h&&C&&b.push(...function(e,t,r,n){const i=D(e);let o=function(e,t,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?o:s;default:return[]}}(M(e),"start"===r,n);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(B)))),o}(a,m,f,w));const E=[a,...b],S=await q(t,g),k=[];let F=(null==(n=o.flip)?void 0:n.overflows)||[];if(u&&k.push(S[v]),d){const e=function(e,t,r){void 0===r&&(r=!1);const n=D(e),i=H(e),o=V(i);let s="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=z(s)),[s,z(s)]}(i,s,w);k.push(S[e[0]],S[e[1]])}if(F=[...F,{placement:i,overflows:k}],!k.every((e=>e<=0))){var R,P;const e=((null==(R=o.flip)?void 0:R.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:F},reset:{placement:t}};let r=null==(P=F.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:P.placement;if(!r)switch(p){case"bestFit":{var j;const e=null==(j=F.filter((e=>{if(C){const t=$(e.placement);return t===x||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:j[0];e&&(r=e);break}case"initialPlacement":r=a}if(i!==r)return{reset:{placement:r}}}return{}}}},Me=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=(()=>{}),...c}=O(e,t),u=await q(t,c),d=M(i),h=D(i),p="y"===$(i),{width:f,height:m}=o.floating;let g,v;"top"===d||"bottom"===d?(g=d,v=h===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,g="end"===h?"top":"bottom");const x=m-u.top-u.bottom,y=f-u.left-u.right,w=F(m-u[g],x),b=F(f-u[v],y),C=!t.middlewareData.shift;let E=w,S=b;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(S=y),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(E=x),C&&!h){const e=R(u.left,0),t=R(u.right,0),r=R(u.top,0),n=R(u.bottom,0);p?S=f-2*(0!==e||0!==t?e+t:R(u.left,u.right)):E=m-2*(0!==r||0!==n?r+n:R(u.top,u.bottom))}await l({...t,availableWidth:S,availableHeight:E});const k=await s.getDimensions(a.floating);return f!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}},De=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=O(e,t);switch(n){case"referenceHidden":{const e=X(await q(t,{...i,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:G(e)}}}case"escaped":{const e=X(await q(t,{...i,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:G(e)}}}default:return{}}}}},Te=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=O(e,t)||{};if(null==c)return{};const d=W(u),h={x:r,y:n},p=H(i),f=V(p),m=await s.getDimensions(c),g="y"===p,v=g?"top":"left",x=g?"bottom":"right",y=g?"clientHeight":"clientWidth",w=o.reference[f]+o.reference[p]-h[p]-o.floating[f],b=h[p]-o.reference[p],C=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let E=C?C[y]:0;E&&await(null==s.isElement?void 0:s.isElement(C))||(E=a.floating[y]||o.floating[f]);const S=w/2-b/2,k=E/2-m[f]/2-1,R=F(d[v],k),P=F(d[x],k),j=R,A=E-m[f]-P,N=E/2-m[f]/2+S,L=I(j,N,A),M=!l.arrow&&null!=D(i)&&N!==L&&o.reference[f]/2-(N<j?R:P)-m[f]/2<0,T=M?N<j?N-j:N-A:0;return{[p]:h[p]+T,data:{[p]:L,centerOffset:N-L-T,...M&&{alignmentOffset:T}},reset:M}}}),Ve=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=O(e,t),u={x:r,y:n},d=$(i),h=T(d);let p=u[h],f=u[d];const m=O(a,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===h?"height":"width",t=o.reference[h]-o.floating[e]+g.mainAxis,r=o.reference[h]+o.reference[e]-g.mainAxis;p<t?p=t:p>r&&(p=r)}if(c){var v,x;const e="y"===h?"width":"height",t=["top","left"].includes(M(i)),r=o.reference[d]-o.floating[e]+(t&&(null==(v=s.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),n=o.reference[d]+o.reference[e]+(t?0:(null==(x=s.offset)?void 0:x[d])||0)-(t?g.crossAxis:0);f<r?f=r:f>n&&(f=n)}return{[h]:p,[d]:f}}}},$e=(e,t,r)=>{const n=new Map,i={platform:je,...r},o={...i.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=U(c,n,l),h=n,p={},f=0;for(let m=0;m<a.length;m++){const{name:r,fn:o}=a[m],{x:g,y:v,data:x,reset:y}=await o({x:u,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,p={...p,[r]:{...p[r],...x}},y&&f<=50&&(f++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):y.rects),({x:u,y:d}=U(c,h,l))),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}})(e,t,{...i,platform:o})};var He=r(3935),Be="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function ze(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!=n--;)if(!ze(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){const r=i[n];if(("_owner"!==r||!e.$$typeof)&&!ze(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function We(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _e(e,t){const r=We(e);return Math.round(t*r)/r}function Ue(e){const t=n.useRef(e);return Be((()=>{t.current=e})),t}const qe=e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"==typeof e?e(t):e;return r&&(i=r,{}.hasOwnProperty.call(i,"current"))?null!=r.current?Te({element:r.current,padding:n}).fn(t):{}:r?Te({element:r,padding:n}).fn(t):{};var i}}),Xe=(e,t)=>({...Ie(e),options:[e,t]}),Ge=(e,t)=>({...Ve(e),options:[e,t]}),Ke=(e,t)=>({...Oe(e),options:[e,t]}),Ye=(e,t)=>({...Me(e),options:[e,t]}),Ze=(e,t)=>({...De(e),options:[e,t]}),Je=(e,t)=>({...qe(e),options:[e,t]});var Qe=n.forwardRef(((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return(0,l.jsx)(d.WV.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,l.jsx)("polygon",{points:"0,0 30,0 15,10"})})}));Qe.displayName="Arrow";var et=Qe;var tt="Popper",[rt,nt]=c(tt),[it,ot]=rt(tt),st=e=>{const{__scopePopper:t,children:r}=e,[i,o]=n.useState(null);return(0,l.jsx)(it,{scope:t,anchor:i,onAnchorChange:o,children:r})};st.displayName=tt;var at="PopperAnchor",lt=n.forwardRef(((e,t)=>{const{__scopePopper:r,virtualRef:i,...o}=e,s=ot(at,r),c=n.useRef(null),u=(0,a.e)(t,c);return n.useEffect((()=>{s.onAnchorChange(i?.current||c.current)})),i?null:(0,l.jsx)(d.WV.div,{...o,ref:u})}));lt.displayName=at;var ct="PopperContent",[ut,dt]=rt(ct),ht=n.forwardRef(((e,t)=>{const{__scopePopper:r,side:i="bottom",sideOffset:o=0,align:s="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:p=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:y,...w}=e,b=ot(ct,r),[E,S]=n.useState(null),k=(0,a.e)(t,(e=>S(e))),[F,R]=n.useState(null),P=function(e){const[t,r]=n.useState(void 0);return C((()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let i,o;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,o=t.blockSize}else i=e.offsetWidth,o=e.offsetHeight;r({width:i,height:o})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)}),[e]),t}(F),j=P?.width??0,A=P?.height??0,N=i+("center"!==s?"-"+s:""),L="number"==typeof m?m:{top:0,right:0,bottom:0,left:0,...m},I=Array.isArray(f)?f:[f],O=I.length>0,M={padding:L,boundary:I.filter(gt),altBoundary:O},{refs:D,floatingStyles:T,placement:V,isPositioned:$,middlewareData:H}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:o,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=n.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=n.useState(i);ze(p,i)||f(i);const[m,g]=n.useState(null),[v,x]=n.useState(null),y=n.useCallback((e=>{e!==E.current&&(E.current=e,g(e))}),[]),w=n.useCallback((e=>{e!==S.current&&(S.current=e,x(e))}),[]),b=s||m,C=a||v,E=n.useRef(null),S=n.useRef(null),k=n.useRef(d),F=null!=c,R=Ue(c),P=Ue(o),j=Ue(u),A=n.useCallback((()=>{if(!E.current||!S.current)return;const e={placement:t,strategy:r,middleware:p};P.current&&(e.platform=P.current),$e(E.current,S.current,e).then((e=>{const t={...e,isPositioned:!1!==j.current};N.current&&!ze(k.current,t)&&(k.current=t,He.flushSync((()=>{h(t)})))}))}),[p,t,r,P,j]);Be((()=>{!1===u&&k.current.isPositioned&&(k.current.isPositioned=!1,h((e=>({...e,isPositioned:!1}))))}),[u]);const N=n.useRef(!1);Be((()=>(N.current=!0,()=>{N.current=!1})),[]),Be((()=>{if(b&&(E.current=b),C&&(S.current=C),b&&C){if(R.current)return R.current(b,C,A);A()}}),[b,C,A,R,F]);const L=n.useMemo((()=>({reference:E,floating:S,setReference:y,setFloating:w})),[y,w]),I=n.useMemo((()=>({reference:b,floating:C})),[b,C]),O=n.useMemo((()=>{const e={position:r,left:0,top:0};if(!I.floating)return e;const t=_e(I.floating,d.x),n=_e(I.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+n+"px)",...We(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,l,I.floating,d.x,d.y]);return n.useMemo((()=>({...d,update:A,refs:L,elements:I,floatingStyles:O})),[d,A,L,I,O])}({strategy:"fixed",placement:N,whileElementsMounted:(...e)=>Ne(...e,{animationFrame:"always"===x}),elements:{reference:b.anchor},middleware:[(B={mainAxis:o+A,alignmentAxis:c},{...Le(B),options:[B,z]}),p&&Xe({mainAxis:!0,crossAxis:!1,limiter:"partial"===g?Ge():void 0,...M}),p&&Ke({...M}),Ye({...M,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{const{width:i,height:o}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${r}px`),s.setProperty("--radix-popper-available-height",`${n}px`),s.setProperty("--radix-popper-anchor-width",`${i}px`),s.setProperty("--radix-popper-anchor-height",`${o}px`)}}),F&&Je({element:F,padding:u}),vt({arrowWidth:j,arrowHeight:A}),v&&Ze({strategy:"referenceHidden",...M})]});var B,z;const[W,_]=xt(V),U=h(y);C((()=>{$&&U?.()}),[$,U]);const q=H.arrow?.x,X=H.arrow?.y,G=0!==H.arrow?.centerOffset,[K,Y]=n.useState();return C((()=>{E&&Y(window.getComputedStyle(E).zIndex)}),[E]),(0,l.jsx)("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:$?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,l.jsx)(ut,{scope:r,placedSide:W,onArrowChange:R,arrowX:q,arrowY:X,shouldHideArrow:G,children:(0,l.jsx)(d.WV.div,{"data-side":W,"data-align":_,...w,ref:k,style:{...w.style,animation:$?void 0:"none"}})})})}));ht.displayName=ct;var pt="PopperArrow",ft={top:"bottom",right:"left",bottom:"top",left:"right"},mt=n.forwardRef((function(e,t){const{__scopePopper:r,...n}=e,i=dt(pt,r),o=ft[i.placedSide];return(0,l.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,l.jsx)(et,{...n,ref:t,style:{...n.style,display:"block"}})})}));function gt(e){return null!==e}mt.displayName=pt;var vt=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=0!==i.arrow?.centerOffset,s=o?0:e.arrowWidth,a=o?0:e.arrowHeight,[l,c]=xt(r),u={start:"0%",center:"50%",end:"100%"}[c],d=(i.arrow?.x??0)+s/2,h=(i.arrow?.y??0)+a/2;let p="",f="";return"bottom"===l?(p=o?u:`${d}px`,f=-a+"px"):"top"===l?(p=o?u:`${d}px`,f=`${n.floating.height+a}px`):"right"===l?(p=-a+"px",f=o?u:`${h}px`):"left"===l&&(p=`${n.floating.width+a}px`,f=o?u:`${h}px`),{data:{x:p,y:f}}}});function xt(e){const[t,r="center"]=e.split("-");return[t,r]}var yt=st,wt=lt,bt=ht,Ct=mt,Et=n.forwardRef(((e,t)=>{const{container:r,...i}=e,[o,s]=n.useState(!1);C((()=>s(!0)),[]);const a=r||o&&globalThis?.document?.body;return a?He.createPortal((0,l.jsx)(d.WV.div,{...i,ref:t}),a):null}));Et.displayName="Portal";var St=e=>{const{present:t,children:r}=e,i=function(e){const[t,r]=n.useState(),i=n.useRef({}),o=n.useRef(e),s=n.useRef("none"),a=e?"mounted":"unmounted",[l,c]=function(e,t){return n.useReducer(((e,r)=>t[e][r]??e),e)}(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return n.useEffect((()=>{const e=kt(i.current);s.current="mounted"===l?e:"none"}),[l]),C((()=>{const t=i.current,r=o.current;if(r!==e){const n=s.current,i=kt(t);if(e)c("MOUNT");else if("none"===i||"none"===t?.display)c("UNMOUNT");else{c(r&&n!==i?"ANIMATION_OUT":"UNMOUNT")}o.current=e}}),[e,c]),C((()=>{if(t){let e;const r=t.ownerDocument.defaultView??window,n=n=>{const s=kt(i.current).includes(n.animationName);if(n.target===t&&s&&(c("ANIMATION_END"),!o.current)){const n=t.style.animationFillMode;t.style.animationFillMode="forwards",e=r.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=n)}))}},a=e=>{e.target===t&&(s.current=kt(i.current))};return t.addEventListener("animationstart",a),t.addEventListener("animationcancel",n),t.addEventListener("animationend",n),()=>{r.clearTimeout(e),t.removeEventListener("animationstart",a),t.removeEventListener("animationcancel",n),t.removeEventListener("animationend",n)}}c("ANIMATION_END")}),[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:n.useCallback((e=>{e&&(i.current=getComputedStyle(e)),r(e)}),[])}}(t),o="function"==typeof r?r({present:i.isPresent}):n.Children.only(r),s=(0,a.e)(i.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;if(r)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(o));return"function"==typeof r||i.isPresent?n.cloneElement(o,{ref:s}):null};function kt(e){return e?.animationName||"none"}St.displayName="Presence";var Ft=r(8426);function Rt({prop:e,defaultProp:t,onChange:r=(()=>{})}){const[i,o]=function({defaultProp:e,onChange:t}){const r=n.useState(e),[i]=r,o=n.useRef(i),s=h(t);return n.useEffect((()=>{o.current!==i&&(s(i),o.current=i)}),[i,o,s]),r}({defaultProp:t,onChange:r}),s=void 0!==e,a=s?e:i,l=h(r);return[a,n.useCallback((t=>{if(s){const r="function"==typeof t?t(e):t;r!==e&&l(r)}else o(t)}),[s,e,o,l])]}var Pt=r(6219),[jt,At]=c("Tooltip",[nt]),Nt=nt(),Lt="TooltipProvider",It=700,Ot="tooltip.open",[Mt,Dt]=jt(Lt),Tt=e=>{const{__scopeTooltip:t,delayDuration:r=It,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:s}=e,[a,c]=n.useState(!0),u=n.useRef(!1),d=n.useRef(0);return n.useEffect((()=>{const e=d.current;return()=>window.clearTimeout(e)}),[]),(0,l.jsx)(Mt,{scope:t,isOpenDelayed:a,delayDuration:r,onOpen:n.useCallback((()=>{window.clearTimeout(d.current),c(!1)}),[]),onClose:n.useCallback((()=>{window.clearTimeout(d.current),d.current=window.setTimeout((()=>c(!0)),i)}),[i]),isPointerInTransitRef:u,onPointerInTransitChange:n.useCallback((e=>{u.current=e}),[]),disableHoverableContent:o,children:s})};Tt.displayName=Lt;var Vt="Tooltip",[$t,Ht]=jt(Vt),Bt=e=>{const{__scopeTooltip:t,children:r,open:i,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:c}=e,u=Dt(Vt,e.__scopeTooltip),d=Nt(t),[h,p]=n.useState(null),f=function(e){const[t,r]=n.useState(E());return C((()=>{e||r((e=>e??String(S++)))}),[e]),e||(t?`radix-${t}`:"")}(),m=n.useRef(0),g=a??u.disableHoverableContent,v=c??u.delayDuration,x=n.useRef(!1),[y=!1,w]=Rt({prop:i,defaultProp:o,onChange:e=>{e?(u.onOpen(),document.dispatchEvent(new CustomEvent(Ot))):u.onClose(),s?.(e)}}),b=n.useMemo((()=>y?x.current?"delayed-open":"instant-open":"closed"),[y]),k=n.useCallback((()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,w(!0)}),[w]),F=n.useCallback((()=>{window.clearTimeout(m.current),m.current=0,w(!1)}),[w]),R=n.useCallback((()=>{window.clearTimeout(m.current),m.current=window.setTimeout((()=>{x.current=!0,w(!0),m.current=0}),v)}),[v,w]);return n.useEffect((()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)}),[]),(0,l.jsx)(yt,{...d,children:(0,l.jsx)($t,{scope:t,contentId:f,open:y,stateAttribute:b,trigger:h,onTriggerChange:p,onTriggerEnter:n.useCallback((()=>{u.isOpenDelayed?R():k()}),[u.isOpenDelayed,R,k]),onTriggerLeave:n.useCallback((()=>{g?F():(window.clearTimeout(m.current),m.current=0)}),[F,g]),onOpen:k,onClose:F,disableHoverableContent:g,children:r})})};Bt.displayName=Vt;var zt="TooltipTrigger",Wt=n.forwardRef(((e,t)=>{const{__scopeTooltip:r,...i}=e,o=Ht(zt,r),c=Dt(zt,r),u=Nt(r),h=n.useRef(null),p=(0,a.e)(t,h,o.onTriggerChange),f=n.useRef(!1),m=n.useRef(!1),g=n.useCallback((()=>f.current=!1),[]);return n.useEffect((()=>()=>document.removeEventListener("pointerup",g)),[g]),(0,l.jsx)(wt,{asChild:!0,...u,children:(0,l.jsx)(d.WV.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:p,onPointerMove:s(e.onPointerMove,(e=>{"touch"!==e.pointerType&&(m.current||c.isPointerInTransitRef.current||(o.onTriggerEnter(),m.current=!0))})),onPointerLeave:s(e.onPointerLeave,(()=>{o.onTriggerLeave(),m.current=!1})),onPointerDown:s(e.onPointerDown,(()=>{f.current=!0,document.addEventListener("pointerup",g,{once:!0})})),onFocus:s(e.onFocus,(()=>{f.current||o.onOpen()})),onBlur:s(e.onBlur,o.onClose),onClick:s(e.onClick,o.onClose)})})}));Wt.displayName=zt;var _t="TooltipPortal",[Ut,qt]=jt(_t,{forceMount:void 0}),Xt=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:i}=e,o=Ht(_t,t);return(0,l.jsx)(Ut,{scope:t,forceMount:r,children:(0,l.jsx)(St,{present:r||o.open,children:(0,l.jsx)(Et,{asChild:!0,container:i,children:n})})})};Xt.displayName=_t;var Gt="TooltipContent",Kt=n.forwardRef(((e,t)=>{const r=qt(Gt,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...o}=e,s=Ht(Gt,e.__scopeTooltip);return(0,l.jsx)(St,{present:n||s.open,children:s.disableHoverableContent?(0,l.jsx)(Qt,{side:i,...o,ref:t}):(0,l.jsx)(Yt,{side:i,...o,ref:t})})})),Yt=n.forwardRef(((e,t)=>{const r=Ht(Gt,e.__scopeTooltip),i=Dt(Gt,e.__scopeTooltip),o=n.useRef(null),s=(0,a.e)(t,o),[c,u]=n.useState(null),{trigger:d,onClose:h}=r,p=o.current,{onPointerInTransitChange:f}=i,m=n.useCallback((()=>{u(null),f(!1)}),[f]),g=n.useCallback(((e,t)=>{const r=e.currentTarget,n={x:e.clientX,y:e.clientY},i=function(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(n,function(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,i,o)){case o:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}(n,r.getBoundingClientRect())),o=function(e){const t=e.slice();return t.sort(((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0)),function(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const r=e[n];for(;t.length>=2;){const e=t[t.length-1],n=t[t.length-2];if(!((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x)))break;t.pop()}t.push(r)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const t=e[n];for(;r.length>=2;){const e=r[r.length-1],n=r[r.length-2];if(!((e.x-n.x)*(t.y-n.y)>=(e.y-n.y)*(t.x-n.x)))break;r.pop()}r.push(t)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...i,...function(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}(t.getBoundingClientRect())]);u(o),f(!0)}),[f]);return n.useEffect((()=>()=>m()),[m]),n.useEffect((()=>{if(d&&p){const e=e=>g(e,p),t=e=>g(e,d);return d.addEventListener("pointerleave",e),p.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),p.removeEventListener("pointerleave",t)}}}),[d,p,g,m]),n.useEffect((()=>{if(c){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},n=d?.contains(t)||p?.contains(t),i=!function(e,t){const{x:r,y:n}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const e=t[o].x,a=t[o].y,l=t[s].x,c=t[s].y;a>n!=c>n&&r<(l-e)*(n-a)/(c-a)+e&&(i=!i)}return i}(r,c);n?m():i&&(m(),h())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}}),[d,p,c,h,m]),(0,l.jsx)(Qt,{...e,ref:s})})),[Zt,Jt]=jt(Vt,{isInside:!1}),Qt=n.forwardRef(((e,t)=>{const{__scopeTooltip:r,children:i,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:a,...c}=e,u=Ht(Gt,r),d=Nt(r),{onClose:h}=u;return n.useEffect((()=>(document.addEventListener(Ot,h),()=>document.removeEventListener(Ot,h))),[h]),n.useEffect((()=>{if(u.trigger){const e=e=>{const t=e.target;t?.contains(u.trigger)&&h()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}}),[u.trigger,h]),(0,l.jsx)(x,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:h,children:(0,l.jsxs)(bt,{"data-state":u.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,l.jsx)(Ft.A4,{children:i}),(0,l.jsx)(Zt,{scope:r,isInside:!0,children:(0,l.jsx)(Pt.f,{id:u.contentId,role:"tooltip",children:o||i})})]})})}));Kt.displayName=Gt;var er="TooltipArrow",tr=n.forwardRef(((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Nt(r);return Jt(er,r).isInside?null:(0,l.jsx)(Ct,{...i,...n,ref:t})}));tr.displayName=er;var rr=Tt,nr=n.createContext(void 0);var ir=e=>{const{dir:t,children:r}=e;return(0,l.jsx)(nr.Provider,{value:t,children:r})};var or=r(407),sr=r(582),ar=r(7575);const lr={...or.C,hasBackground:{type:"boolean",default:!0},appearance:{type:"enum",values:["inherit","light","dark"],default:"inherit"},accentColor:{type:"enum",values:sr.FN,default:"indigo"},grayColor:{type:"enum",values:sr.ab,default:"auto"},panelBackground:{type:"enum",values:["solid","translucent"],default:"translucent"},radius:{type:"enum",values:ar.p,default:"medium"},scaling:{type:"enum",values:["90%","95%","100%","105%","110%"],default:"100%"}},cr=()=>{},ur=n.createContext(void 0);const dr=n.forwardRef(((e,t)=>void 0===n.useContext(ur)?n.createElement(rr,{delayDuration:200},n.createElement(ir,{dir:"ltr"},n.createElement(hr,{...e,ref:t}))):n.createElement(pr,{...e,ref:t})));dr.displayName="Theme";const hr=n.forwardRef(((e,t)=>{const{appearance:r=lr.appearance.default,accentColor:i=lr.accentColor.default,grayColor:o=lr.grayColor.default,panelBackground:s=lr.panelBackground.default,radius:a=lr.radius.default,scaling:l=lr.scaling.default,hasBackground:c=lr.hasBackground.default,...u}=e,[d,h]=n.useState(r);n.useEffect((()=>h(r)),[r]);const[p,f]=n.useState(i);n.useEffect((()=>f(i)),[i]);const[m,g]=n.useState(o);n.useEffect((()=>g(o)),[o]);const[v,x]=n.useState(s);n.useEffect((()=>x(s)),[s]);const[y,w]=n.useState(a);n.useEffect((()=>w(a)),[a]);const[b,C]=n.useState(l);return n.useEffect((()=>C(l)),[l]),n.createElement(pr,{...u,ref:t,isRoot:!0,hasBackground:c,appearance:d,accentColor:p,grayColor:m,panelBackground:v,radius:y,scaling:b,onAppearanceChange:h,onAccentColorChange:f,onGrayColorChange:g,onPanelBackgroundChange:x,onRadiusChange:w,onScalingChange:C})}));hr.displayName="ThemeRoot";const pr=n.forwardRef(((e,t)=>{const r=n.useContext(ur),{asChild:i,isRoot:s,hasBackground:a,appearance:l=r?.appearance??lr.appearance.default,accentColor:c=r?.accentColor??lr.accentColor.default,grayColor:u=r?.resolvedGrayColor??lr.grayColor.default,panelBackground:d=r?.panelBackground??lr.panelBackground.default,radius:h=r?.radius??lr.radius.default,scaling:p=r?.scaling??lr.scaling.default,onAppearanceChange:f=cr,onAccentColorChange:m=cr,onGrayColorChange:g=cr,onPanelBackgroundChange:v=cr,onRadiusChange:x=cr,onScalingChange:y=cr,...w}=e,b=i?Ft.fC:"div",C="auto"===u?function(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}(c):u,E="light"===e.appearance||"dark"===e.appearance,S=void 0===a?s||E:a;return n.createElement(ur.Provider,{value:n.useMemo((()=>({appearance:l,accentColor:c,grayColor:u,resolvedGrayColor:C,panelBackground:d,radius:h,scaling:p,onAppearanceChange:f,onAccentColorChange:m,onGrayColorChange:g,onPanelBackgroundChange:v,onRadiusChange:x,onScalingChange:y})),[l,c,u,C,d,h,p,f,m,g,v,x,y])},n.createElement(b,{"data-is-root-theme":s?"true":"false","data-accent-color":c,"data-gray-color":C,"data-has-background":S?"true":"false","data-panel-background":d,"data-radius":h,"data-scaling":p,ref:t,...w,className:o("radix-themes",{light:"light"===l,dark:"dark"===l},w.className)}))}));pr.displayName="ThemeImpl"},3928:function(e,t,r){"use strict";r.d(t,{y:function(){return d}});var n=r(3967);const i=["initial","xs","sm","md","lg","xl"];function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){return"object"==typeof e&&Object.keys(e).some((e=>i.includes(e)))}function a({className:e,customProperties:t,...r}){const n=l({allowArbitraryValues:!0,className:e,...r}),a=function({customProperties:e,value:t,propValues:r,parseValue:n=(e=>e)}){let a={};if(t&&("string"!=typeof t||!r.includes(t))){if("string"==typeof t&&(a=Object.fromEntries(e.map((e=>[e,t])))),s(t)){const n=t;for(const t in n){if(!o(n,t)||!i.includes(t))continue;const s=n[t];if(!r.includes(s))for(const r of e)a={["initial"===t?r:`${r}-${t}`]:s,...a}}}for(const e in a){const t=a[e];void 0!==t&&(a[e]=n(t))}return a}}({customProperties:t,...r});return[n,a]}function l({allowArbitraryValues:e,value:t,className:r,propValues:n,parseValue:a=(e=>e)}){const l=[];if(t){if("string"==typeof t&&n.includes(t))return c(r,t,a);if(s(t)){const s=t;for(const t in s){if(!o(s,t)||!i.includes(t))continue;const u=s[t];if(void 0!==u)if(n.includes(u)){const e=c(r,u,a),n="initial"===t?e:`${t}:${e}`;l.push(n)}else if(e){const e="initial"===t?r:`${t}:${r}`;l.push(e)}}return l.join(" ")}if(e)return r}}function c(e,t,r){const n=e?"-":"",i=r(t),o=i?.startsWith("-");return`${o?"-":""}${e}${n}${o?i?.substring(1):i}`}function u(...e){let t={};for(const r of e)r&&(t={...t,...r});return Object.keys(t).length?t:void 0}function d(e,...t){let r,i;const o={...e},c=function(...e){return Object.assign({},...e)}(...t);for(const d in c){let e=o[d];const t=c[d];if(void 0!==t.default&&void 0===e&&(e=t.default),"enum"===t.type&&![t.default,...t.values].includes(e)&&!s(e)&&(e=t.default),o[d]=e,"className"in t&&t.className){delete o[d];const c="responsive"in t;if(!e||s(e)&&!c)continue;if(s(e)&&(void 0!==t.default&&void 0===e.initial&&(e.initial=t.default),"enum"===t.type&&([t.default,...t.values].includes(e.initial)||(e.initial=t.default))),"enum"===t.type){const i=l({allowArbitraryValues:!1,value:e,className:t.className,propValues:t.values,parseValue:t.parseValue});r=n(r,i);continue}if("string"===t.type||"enum | string"===t.type){const o="string"===t.type?[]:t.values,[s,l]=a({className:t.className,customProperties:t.customProperties,propValues:o,parseValue:t.parseValue,value:e});i=u(i,l),r=n(r,s);continue}if("boolean"===t.type&&e){r=n(r,t.className);continue}}}return o.className=n(r,e.className),o.style=u(i,e.style),o}},407:function(e,t,r){"use strict";r.d(t,{C:function(){return n}});const n={asChild:{type:"boolean"}}},582:function(e,t,r){"use strict";r.d(t,{EG:function(){return o},FN:function(){return n},ab:function(){return i},o3:function(){return s}});const n=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],i=["auto","gray","mauve","slate","sage","olive","sand"],o={color:{type:"enum",values:n,default:void 0}},s={color:{type:"enum",values:n,default:""}}},5376:function(e,t,r){"use strict";r.d(t,{F:function(){return n}});const n={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}}},8584:function(e,t,r){"use strict";r.d(t,{K:function(){return n}});const n={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}}},326:function(e,t,r){"use strict";r.d(t,{P:function(){return l}});var n=r(4080),i=r(5376),o=r(6531);const s=["visible","hidden","clip","scroll","auto"],a=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],l={...n.i,...o.n,...i.F,position:{type:"enum",className:"rt-r-position",values:["static","relative","absolute","fixed","sticky"],responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:a,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:a,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:a,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:a,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:a,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:s,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:s,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:s,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:["0","1"],responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:["0","1"],responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0}}},4065:function(e,t,r){"use strict";r.d(t,{E:function(){return n}});const n={trim:{type:"enum",className:"rt-r-lt",values:["normal","start","end","both"],responsive:!0}}},5638:function(e,t,r){"use strict";r.d(t,{E:function(){return i}});const n=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],i={m:{type:"enum | string",values:n,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:n,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:n,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:n,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:n,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:n,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:n,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}}},4080:function(e,t,r){"use strict";r.d(t,{i:function(){return i}});const n=["0","1","2","3","4","5","6","7","8","9"],i={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:n,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:n,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:n,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:n,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:n,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:n,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:n,responsive:!0}}},7575:function(e,t,r){"use strict";r.d(t,{I:function(){return i},p:function(){return n}});const n=["none","small","medium","large","full"],i={radius:{type:"enum",values:n,default:void 0}}},3051:function(e,t,r){"use strict";r.d(t,{O:function(){return n}});const n={align:{type:"enum",className:"rt-r-ta",values:["left","center","right"],responsive:!0}}},2482:function(e,t,r){"use strict";r.d(t,{u:function(){return n}});const n={wrap:{type:"enum",className:"rt-r-tw",values:["wrap","nowrap","pretty","balance"],responsive:!0}}},9279:function(e,t,r){"use strict";r.d(t,{w:function(){return n}});const n={truncate:{type:"boolean",className:"rt-truncate"}}},6937:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});const n={weight:{type:"enum",className:"rt-r-weight",values:["light","regular","medium","bold"],responsive:!0}}},6531:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});const n={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}}}}]);
//# sourceMappingURL=commons-7ddb00a5915d97deabb0.js.map