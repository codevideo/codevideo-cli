"use strict";(self.webpackChunkcodevideo_ide_react_examples=self.webpackChunkcodevideo_ide_react_examples||[]).push([[929],{5318:function(e,o,n){n.r(o),n.d(o,{default:function(){return c}});var t=n(7294),i=n(4246),a=n(1051),s=n(4144),r=n(5564);function c(){const{0:e,1:o}=(0,t.useState)("step"),{0:n,1:c}=(0,t.useState)(0),{0:l,1:d}=(0,t.useState)([]),{0:u,1:g}=(0,t.useState)([]),{0:m,1:p}=(0,t.useState)([]),{0:w,1:h}=(0,t.useState)(!1),{0:f,1:v}=(0,t.useState)(!1),{0:A,1:S}=(0,t.useState)({project:[],mode:"step",currentLessonIndex:0,currentActionIndex:0,isSoundOn:!1,actionFinishedCallback:()=>{},speakActionAudios:[],theme:"dark",allowFocusInEditor:!0,defaultLanguage:"python",isExternalBrowserStepUrl:null,withCaptions:!0,fileExplorerWidth:400,terminalHeight:350,mouseColor:"black",fontSizePx:26,keyboardTypingPauseMs:40,standardPauseMs:200,longPauseMs:200,resolution:"1080p",showDevBox:!1}),{0:y,1:_}=(0,t.useState)(!1);(0,t.useEffect)((()=>{"undefined"!=typeof window?(window.__startRecording=()=>{console.log("Recording triggered programmatically!"),_(!0)},window.addEventListener("error",(e=>{var o;console.error("Global error caught:",JSON.stringify({message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:null===(o=e.error)||void 0===o?void 0:o.stack}))})),window.addEventListener("unhandledrejection",(e=>{console.error("Unhandled promise rejection:",JSON.stringify(e))}))):console.error("This code is intended to run in a browser environment.")}),[]),(0,t.useEffect)((()=>{var e,t;y&&f&&(console.log("Starting replay..."),c(0),o("replay"),h(!0),"function"==typeof window.__onActionProgress&&window.__onActionProgress({currentAction:n,totalActions:u.length,progress:0,actionName:(null===(e=u[n])||void 0===e?void 0:e.name)||"Action "+n,actionValue:(null===(t=u[n])||void 0===t?void 0:t.value)||"",timestamp:Date.now().toLocaleString()}))}),[y,f]);(0,t.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("uuid");e&&(console.log("Retrieving manifest for uuid: ",e),(async e=>{try{const o=await fetch("http://localhost:7000/get-manifest-v3?uuid="+e),n=await o.json();let t;console.log("\n-------------------\n\n\nMANIFEST DATA:\n",JSON.stringify(n,null,2),"\n\n-------------------\n"),n&&n.actions?(t=n.actions,console.log("FOUND "+n.actions.length+" actions in manifest"),g(n.actions)):n.lesson&&(t=n.lesson,console.log("FOUND "+n.lesson.actions.length+" actions in lesson"),g(n.lesson.actions)),d(t||[]),p(n.audioItems),n.codeVideoIDEProps&&S((e=>({...e,...n.codeVideoIDEProps})))}catch(o){console.error("Error getting manifest: ",JSON.stringify(o))}})(e))}),[]);return t.createElement(a.Q2,{accentColor:"mint",appearance:"dark",panelBackground:"translucent",radius:"large"},t.createElement(s.k,{direction:"column",justify:"center",align:"center"},t.createElement(r.x,{style:{height:"100vh",width:"100vw"}},t.createElement(i.Zv,Object.assign({},A,{project:l,currentLessonIndex:0,mode:e,currentActionIndex:n,isSoundOn:w,actionFinishedCallback:()=>{console.log("Going to next action...");const e=n+1;var o,t;e<u.length&&("function"==typeof window.__onActionProgress&&window.__onActionProgress({currentAction:e,totalActions:u.length,progress:(e/u.length*100).toFixed(1),actionName:(null===(o=u[e])||void 0===o?void 0:o.name)||"Action "+e,actionValue:(null===(t=u[e])||void 0===t?void 0:t.value)||"",timestamp:Date.now().toLocaleString()}));c(e)},playBackCompleteCallback:()=>{var e,o;(console.log("Playback complete!"),"function"==typeof window.__onActionProgress)&&window.__onActionProgress({currentAction:u.length,totalActions:u.length,progress:"100.0",actionName:(null===(e=u[u.length-1])||void 0===e?void 0:e.name)||"Action "+u.length,actionValue:(null===(o=u[u.length-1])||void 0===o?void 0:o.value)||"",timestamp:Date.now().toLocaleString()})},speakActionAudios:m,monacoLoadedCallback:()=>v(!0),showDevBox:!1})))))}}}]);
//# sourceMappingURL=component---src-pages-v-3-tsx-fa8386d0e792c1cddbd4.js.map